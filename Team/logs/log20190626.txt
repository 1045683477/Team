2019-06-26 18:28:45.033 +08:00 [INF] User profile is available. Using 'C:\Users\10456\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-06-26 18:28:48.470 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger  
2019-06-26 18:28:48.628 +08:00 [INF] Request finished in 160.319ms 301 
2019-06-26 18:28:48.830 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2019-06-26 18:28:49.036 +08:00 [INF] Request finished in 205.735ms 200 text/html
2019-06-26 18:28:49.098 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui.css  
2019-06-26 18:28:49.101 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-standalone-preset.js  
2019-06-26 18:28:49.170 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-bundle.js  
2019-06-26 18:28:49.262 +08:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2019-06-26 18:28:49.283 +08:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2019-06-26 18:28:49.307 +08:00 [INF] Request finished in 209.3517ms 200 text/css
2019-06-26 18:28:49.307 +08:00 [INF] Request finished in 206.1169ms 200 application/javascript
2019-06-26 18:28:49.310 +08:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2019-06-26 18:28:49.313 +08:00 [INF] Request finished in 142.6073ms 200 application/javascript
2019-06-26 18:29:26.652 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2019-06-26 18:29:27.051 +08:00 [INF] Request finished in 398.5522ms 200 application/json;charset=utf-8
2019-06-26 18:29:34.250 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Login/UserLoginApi application/json-patch+json 49
2019-06-26 18:29:34.334 +08:00 [INF] Executing endpoint 'Team.Controllers.LoginController.UserLoginApi (Team)'
2019-06-26 18:29:34.359 +08:00 [INF] Route matched with {action = "UserLoginApi", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLoginApi(Team.Model.AutoMappers.UserMapper.UserLoginMap) on controller Team.Controllers.LoginController (Team).
2019-06-26 18:29:34.833 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Login/UserLoginApi application/json-patch+json 49
2019-06-26 18:29:34.839 +08:00 [INF] Executing endpoint 'Team.Controllers.LoginController.UserLoginApi (Team)'
2019-06-26 18:29:34.841 +08:00 [INF] Route matched with {action = "UserLoginApi", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLoginApi(Team.Model.AutoMappers.UserMapper.UserLoginMap) on controller Team.Controllers.LoginController (Team).
2019-06-26 18:29:35.026 +08:00 [INF] Executing action method Team.Controllers.LoginController.UserLoginApi (Team) - Validation state: "Valid"
2019-06-26 18:29:35.026 +08:00 [INF] Executing action method Team.Controllers.LoginController.UserLoginApi (Team) - Validation state: "Valid"
2019-06-26 18:29:35.376 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 18:29:35.376 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 18:29:36.672 +08:00 [INF] Executed DbCommand (721ms) [Parameters=[@__account_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE ([x].[Account] = @__account_0) AND ([x].[Password] = @__password_1)
2019-06-26 18:29:36.672 +08:00 [INF] Executed DbCommand (721ms) [Parameters=[@__account_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE ([x].[Account] = @__account_0) AND ([x].[Password] = @__password_1)
2019-06-26 18:29:36.762 +08:00 [INF] 用户 1登陆成功
2019-06-26 18:29:36.762 +08:00 [INF] 用户 1登陆成功
2019-06-26 18:29:36.769 +08:00 [INF] Executed action method Team.Controllers.LoginController.UserLoginApi (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1731.4415000000001ms.
2019-06-26 18:29:36.769 +08:00 [INF] Executed action method Team.Controllers.LoginController.UserLoginApi (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1731.5531ms.
2019-06-26 18:29:36.790 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 18:29:36.790 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 18:29:36.808 +08:00 [INF] Executed action Team.Controllers.LoginController.UserLoginApi (Team) in 2445.3405000000002ms
2019-06-26 18:29:36.808 +08:00 [INF] Executed action Team.Controllers.LoginController.UserLoginApi (Team) in 1960.5786ms
2019-06-26 18:29:36.812 +08:00 [INF] Executed endpoint 'Team.Controllers.LoginController.UserLoginApi (Team)'
2019-06-26 18:29:36.817 +08:00 [INF] Executed endpoint 'Team.Controllers.LoginController.UserLoginApi (Team)'
2019-06-26 18:29:36.823 +08:00 [INF] Request finished in 2573.028ms 200 application/json; charset=utf-8
2019-06-26 18:29:36.823 +08:00 [INF] Request finished in 1990.231ms 200 application/json; charset=utf-8
2019-06-26 18:30:00.036 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 18:30:00.036 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 18:30:00.447 +08:00 [INF] Executed DbCommand (378ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
delete TeamLists;
2019-06-26 18:30:00.447 +08:00 [INF] Executed DbCommand (407ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
delete RunTimeDailyChartses;
2019-06-26 18:30:00.739 +08:00 [INF] Executed DbCommand (263ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[ApplicationStatus], [s].[Count], [s].[CreationTime], [s].[Introduction], [s].[Name], [s].[UserId]
FROM [RunTeams] AS [s]
WHERE ([s].[ApplicationStatus] = 1) AND ([s].[Count] > 5)
2019-06-26 18:30:00.740 +08:00 [INF] Executed DbCommand (232ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [r].[RunTeamId], [b].[Name], [b].[Introduction], [r].[Distance]
FROM [RunTeamRecords] AS [r]
CROSS JOIN [RunTeams] AS [b]
WHERE ([b].[Id] = [r].[RunTeamId]) AND ([r].[DateTime] = CONVERT(date, GETDATE()))
ORDER BY [r].[Distance] DESC
2019-06-26 18:30:00.746 +08:00 [INF] 时间 2019/6/26 18:30:00 更新跑团组队列表
2019-06-26 18:30:00.751 +08:00 [INF] 时间 2019/6/26 18:30:00 更新跑团每日排行榜
2019-06-26 18:30:12.458 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/RunTeam/RunTeamCreateApi application/json-patch+json 40
2019-06-26 18:30:12.475 +08:00 [INF] Successfully validated the token.
2019-06-26 18:30:12.481 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.RunTeamCreateApiAsync (Team)'
2019-06-26 18:30:12.488 +08:00 [INF] Route matched with {action = "RunTeamCreateApiAsync", controller = "RunTeam"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RunTeamCreateApiAsync(Team.Model.AutoMappers.RunTeamMapper.RunTeamCreateMap) on controller Team.Controllers.RunTeamController (Team).
2019-06-26 18:30:12.506 +08:00 [INF] Authorization was successful.
2019-06-26 18:30:12.531 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.RunTeamCreateApiAsync (Team) - Validation state: "Valid"
2019-06-26 18:30:12.537 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 18:30:12.597 +08:00 [INF] Executed DbCommand (50ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 18:30:13.143 +08:00 [INF] Executed DbCommand (392ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RunTeams] ([ApplicationStatus], [Count], [CreationTime], [Introduction], [Name], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [RunTeams]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2019-06-26 18:30:13.195 +08:00 [INF] Executed DbCommand (33ms) [Parameters=[@p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RunParticipantses] ([ApplicationDate], [Name], [RunTeamId], [Sex], [UserId])
VALUES (@p6, @p7, @p8, @p9, @p10);
SELECT [Id]
FROM [RunParticipantses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2019-06-26 18:30:13.211 +08:00 [INF] 用户 1 创建跑步队伍成功
2019-06-26 18:30:13.213 +08:00 [INF] Executed action method Team.Controllers.RunTeamController.RunTeamCreateApiAsync (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 678.86880000000008ms.
2019-06-26 18:30:13.217 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 18:30:13.220 +08:00 [INF] Executed action Team.Controllers.RunTeamController.RunTeamCreateApiAsync (Team) in 724.1572ms
2019-06-26 18:30:13.221 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.RunTeamCreateApiAsync (Team)'
2019-06-26 18:30:13.223 +08:00 [INF] Request finished in 764.8148ms 201 application/json; charset=utf-8
2019-06-26 18:30:20.330 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/UpdateUserRunTeamId  
2019-06-26 18:30:20.332 +08:00 [INF] Successfully validated the token.
2019-06-26 18:30:20.336 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.UpdateUserRunTeamIdAsync (Team)'
2019-06-26 18:30:20.340 +08:00 [INF] Route matched with {action = "UpdateUserRunTeamIdAsync", controller = "RunTeam"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserRunTeamIdAsync() on controller Team.Controllers.RunTeamController (Team).
2019-06-26 18:30:20.346 +08:00 [INF] Authorization was successful.
2019-06-26 18:30:20.365 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.UpdateUserRunTeamIdAsync (Team) - Validation state: "Valid"
2019-06-26 18:30:20.370 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 18:30:20.401 +08:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 18:30:20.417 +08:00 [WRN] Query: '(from User user in DbSet<User> join RunTeam team in DbSet<RunTeam> on [user].Id equals [team].UserId...' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-06-26 18:30:20.598 +08:00 [INF] Executed DbCommand (163ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [team].[Id]
FROM [Users] AS [user]
INNER JOIN [RunTeams] AS [team] ON [user].[Id] = [team].[UserId]
2019-06-26 18:30:20.765 +08:00 [INF] Executed DbCommand (157ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [Account] = @p0, [Name] = @p1, [Password] = @p2, [Province] = @p3, [Role] = @p4, [RunTeamId] = @p5, [Sex] = @p6, [StudentId] = @p7, [UniversityId] = @p8
WHERE [Id] = @p9;
SELECT @@ROWCOUNT;
2019-06-26 18:30:20.772 +08:00 [INF] 用户 1 修改自己跑步队伍 Id 成功
2019-06-26 18:30:20.773 +08:00 [INF] Executed action method Team.Controllers.RunTeamController.UpdateUserRunTeamIdAsync (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 405.0212ms.
2019-06-26 18:30:20.780 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 18:30:20.782 +08:00 [INF] Executed action Team.Controllers.RunTeamController.UpdateUserRunTeamIdAsync (Team) in 435.8098ms
2019-06-26 18:30:20.784 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.UpdateUserRunTeamIdAsync (Team)'
2019-06-26 18:30:20.785 +08:00 [INF] Request finished in 455.6034ms 200 application/json; charset=utf-8
2019-06-26 18:30:28.124 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2019-06-26 18:30:28.128 +08:00 [INF] Request finished in 4.48ms 200 text/html
2019-06-26 18:30:28.793 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2019-06-26 18:30:28.819 +08:00 [INF] Request finished in 26.2452ms 200 application/json;charset=utf-8
2019-06-26 18:30:38.842 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Login/UserLoginApi application/json-patch+json 50
2019-06-26 18:30:38.845 +08:00 [INF] Executing endpoint 'Team.Controllers.LoginController.UserLoginApi (Team)'
2019-06-26 18:30:38.847 +08:00 [INF] Route matched with {action = "UserLoginApi", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLoginApi(Team.Model.AutoMappers.UserMapper.UserLoginMap) on controller Team.Controllers.LoginController (Team).
2019-06-26 18:30:38.875 +08:00 [INF] Executing action method Team.Controllers.LoginController.UserLoginApi (Team) - Validation state: "Valid"
2019-06-26 18:30:38.879 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 18:30:38.935 +08:00 [INF] Executed DbCommand (53ms) [Parameters=[@__account_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE ([x].[Account] = @__account_0) AND ([x].[Password] = @__password_1)
2019-06-26 18:30:38.940 +08:00 [INF] 用户 2登陆成功
2019-06-26 18:30:38.941 +08:00 [INF] Executed action method Team.Controllers.LoginController.UserLoginApi (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 62.633700000000005ms.
2019-06-26 18:30:38.943 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 18:30:38.946 +08:00 [INF] Executed action Team.Controllers.LoginController.UserLoginApi (Team) in 95.122ms
2019-06-26 18:30:38.948 +08:00 [INF] Executed endpoint 'Team.Controllers.LoginController.UserLoginApi (Team)'
2019-06-26 18:30:38.950 +08:00 [INF] Request finished in 107.5193ms 200 application/json; charset=utf-8
2019-06-26 18:30:59.070 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/ApplyToJoinTeamApi?teamId=1  
2019-06-26 18:30:59.072 +08:00 [INF] Successfully validated the token.
2019-06-26 18:30:59.074 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team)'
2019-06-26 18:30:59.085 +08:00 [INF] Route matched with {action = "ApplyToJoinTeamApiAsync", controller = "RunTeam"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApplyToJoinTeamApiAsync(Int32) on controller Team.Controllers.RunTeamController (Team).
2019-06-26 18:30:59.093 +08:00 [INF] Authorization was successful.
2019-06-26 18:30:59.121 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team) - Validation state: "Valid"
2019-06-26 18:30:59.126 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 18:30:59.165 +08:00 [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 18:30:59.208 +08:00 [INF] Executed DbCommand (30ms) [Parameters=[@__teamId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [x].[Id], [x].[ApplicationDate], [x].[Name], [x].[RunTeamId], [x].[Sex], [x].[UserId]
FROM [RunApplicants] AS [x]
WHERE [x].[RunTeamId] = @__teamId_0
2019-06-26 18:30:59.251 +08:00 [INF] Executed DbCommand (28ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RunApplicants] ([ApplicationDate], [Name], [RunTeamId], [Sex], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [RunApplicants]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2019-06-26 18:30:59.257 +08:00 [ERR] 用户 2 申请加入 1 战队
2019-06-26 18:30:59.258 +08:00 [INF] Executed action method Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 134.18970000000002ms.
2019-06-26 18:30:59.264 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 18:30:59.266 +08:00 [INF] Executed action Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team) in 173.37560000000002ms
2019-06-26 18:30:59.269 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team)'
2019-06-26 18:30:59.274 +08:00 [INF] Request finished in 204.452ms 201 application/json; charset=utf-8
2019-06-26 18:31:10.922 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/SearchRunTeamId  
2019-06-26 18:31:10.924 +08:00 [INF] Successfully validated the token.
2019-06-26 18:31:10.926 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.SearchRunTeamId (Team)'
2019-06-26 18:31:10.930 +08:00 [INF] Route matched with {action = "SearchRunTeamId", controller = "RunTeam"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SearchRunTeamId() on controller Team.Controllers.RunTeamController (Team).
2019-06-26 18:31:10.939 +08:00 [INF] Authorization was successful.
2019-06-26 18:31:10.961 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.SearchRunTeamId (Team) - Validation state: "Valid"
2019-06-26 18:31:10.965 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 18:31:10.996 +08:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 18:31:11.001 +08:00 [INF] 用户 1 已参加跑步队伍
2019-06-26 18:31:11.003 +08:00 [INF] Executed action method Team.Controllers.RunTeamController.SearchRunTeamId (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 38.620400000000004ms.
2019-06-26 18:31:11.010 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 18:31:11.012 +08:00 [INF] Executed action Team.Controllers.RunTeamController.SearchRunTeamId (Team) in 72.7938ms
2019-06-26 18:31:11.015 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.SearchRunTeamId (Team)'
2019-06-26 18:31:11.017 +08:00 [INF] Request finished in 95.5693ms 200 application/json; charset=utf-8
2019-06-26 18:31:18.787 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/SearchTeamApi?teamId=1  
2019-06-26 18:31:18.790 +08:00 [INF] Successfully validated the token.
2019-06-26 18:31:18.791 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.SearchTeamApi (Team)'
2019-06-26 18:31:18.795 +08:00 [INF] Route matched with {action = "SearchTeamApi", controller = "RunTeam"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SearchTeamApi(Int32) on controller Team.Controllers.RunTeamController (Team).
2019-06-26 18:31:18.801 +08:00 [INF] Authorization was successful.
2019-06-26 18:31:18.823 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.SearchTeamApi (Team) - Validation state: "Valid"
2019-06-26 18:31:18.828 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 18:31:19.029 +08:00 [INF] Executed DbCommand (166ms) [Parameters=[@__teamId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[ApplicationStatus], [x].[Count], [x].[CreationTime], [x].[Introduction], [x].[Name], [x].[UserId]
FROM [RunTeams] AS [x]
WHERE [x].[Id] = @__teamId_0
ORDER BY [x].[Id]
2019-06-26 18:31:19.138 +08:00 [INF] Executed DbCommand (69ms) [Parameters=[@__teamId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [x.RunParticipantses].[Id], [x.RunParticipantses].[ApplicationDate], [x.RunParticipantses].[Name], [x.RunParticipantses].[RunTeamId], [x.RunParticipantses].[Sex], [x.RunParticipantses].[UserId]
FROM [RunParticipantses] AS [x.RunParticipantses]
INNER JOIN (
    SELECT TOP(1) [x0].[Id]
    FROM [RunTeams] AS [x0]
    WHERE [x0].[Id] = @__teamId_0
    ORDER BY [x0].[Id]
) AS [t] ON [x.RunParticipantses].[RunTeamId] = [t].[Id]
ORDER BY [t].[Id]
2019-06-26 18:31:19.161 +08:00 [INF] 查询跑步团队 1 成功
2019-06-26 18:31:19.163 +08:00 [INF] Executed action method Team.Controllers.RunTeamController.SearchTeamApi (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 336.4081ms.
2019-06-26 18:31:19.168 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 18:31:19.179 +08:00 [INF] Executed action Team.Controllers.RunTeamController.SearchTeamApi (Team) in 378.009ms
2019-06-26 18:31:19.186 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.SearchTeamApi (Team)'
2019-06-26 18:31:19.195 +08:00 [INF] Request finished in 407.9798ms 200 application/json; charset=utf-8
2019-06-26 18:31:32.270 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/SearchAllApplicant  
2019-06-26 18:31:32.273 +08:00 [INF] Successfully validated the token.
2019-06-26 18:31:32.275 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.SearchAllApplicant (Team)'
2019-06-26 18:31:32.281 +08:00 [INF] Route matched with {action = "SearchAllApplicant", controller = "RunTeam"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SearchAllApplicant() on controller Team.Controllers.RunTeamController (Team).
2019-06-26 18:31:32.289 +08:00 [INF] Authorization was successful.
2019-06-26 18:31:32.292 +08:00 [INF] Authorization failed.
2019-06-26 18:31:32.294 +08:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2019-06-26 18:31:32.307 +08:00 [INF] Executing ForbidResult with authentication schemes ([]).
2019-06-26 18:31:32.314 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2019-06-26 18:31:32.318 +08:00 [INF] Executed action Team.Controllers.RunTeamController.SearchAllApplicant (Team) in 29.2954ms
2019-06-26 18:31:32.320 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.SearchAllApplicant (Team)'
2019-06-26 18:31:32.323 +08:00 [INF] Request finished in 52.878ms 403 
2019-06-26 18:35:43.995 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Login/UserLoginApi application/json-patch+json 49
2019-06-26 18:35:44.000 +08:00 [INF] Successfully validated the token.
2019-06-26 18:35:44.010 +08:00 [INF] Executing endpoint 'Team.Controllers.LoginController.UserLoginApi (Team)'
2019-06-26 18:35:44.015 +08:00 [INF] Route matched with {action = "UserLoginApi", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLoginApi(Team.Model.AutoMappers.UserMapper.UserLoginMap) on controller Team.Controllers.LoginController (Team).
2019-06-26 18:35:44.048 +08:00 [INF] Executing action method Team.Controllers.LoginController.UserLoginApi (Team) - Validation state: "Valid"
2019-06-26 18:35:44.053 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 18:35:44.126 +08:00 [INF] Executed DbCommand (70ms) [Parameters=[@__account_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE ([x].[Account] = @__account_0) AND ([x].[Password] = @__password_1)
2019-06-26 18:35:44.132 +08:00 [INF] 用户 1登陆成功
2019-06-26 18:35:44.133 +08:00 [INF] Executed action method Team.Controllers.LoginController.UserLoginApi (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 81.8281ms.
2019-06-26 18:35:44.136 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 18:35:44.137 +08:00 [INF] Executed action Team.Controllers.LoginController.UserLoginApi (Team) in 115.7455ms
2019-06-26 18:35:44.147 +08:00 [INF] Executed endpoint 'Team.Controllers.LoginController.UserLoginApi (Team)'
2019-06-26 18:35:44.150 +08:00 [INF] Request finished in 154.737ms 200 application/json; charset=utf-8
2019-06-26 18:35:56.214 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/SearchAllApplicant  
2019-06-26 18:35:56.216 +08:00 [INF] Successfully validated the token.
2019-06-26 18:35:56.218 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.SearchAllApplicant (Team)'
2019-06-26 18:35:56.221 +08:00 [INF] Route matched with {action = "SearchAllApplicant", controller = "RunTeam"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SearchAllApplicant() on controller Team.Controllers.RunTeamController (Team).
2019-06-26 18:35:56.225 +08:00 [INF] Authorization was successful.
2019-06-26 18:35:56.226 +08:00 [INF] Authorization was successful.
2019-06-26 18:35:56.249 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.SearchAllApplicant (Team) - Validation state: "Valid"
2019-06-26 18:35:56.254 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 18:35:56.283 +08:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 18:35:56.433 +08:00 [INF] Executed DbCommand (146ms) [Parameters=[@__teamId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [x].[Id], [x].[ApplicationDate], [x].[Name], [x].[RunTeamId], [x].[Sex], [x].[UserId]
FROM [RunApplicants] AS [x]
WHERE [x].[RunTeamId] = @__teamId_0
2019-06-26 18:36:52.428 +08:00 [INF] User profile is available. Using 'C:\Users\10456\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-06-26 18:36:55.302 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2019-06-26 18:36:55.738 +08:00 [INF] Request finished in 439.4109ms 200 text/html
2019-06-26 18:36:57.685 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2019-06-26 18:36:57.878 +08:00 [INF] Request finished in 193.4697ms 200 application/json;charset=utf-8
2019-06-26 18:36:58.598 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2019-06-26 18:36:58.611 +08:00 [INF] Request finished in 13.3799ms 200 application/json;charset=utf-8
2019-06-26 18:37:18.820 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/SearchAllApplicant  
2019-06-26 18:37:18.894 +08:00 [INF] Successfully validated the token.
2019-06-26 18:37:18.925 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.SearchAllApplicant (Team)'
2019-06-26 18:37:18.938 +08:00 [INF] Route matched with {action = "SearchAllApplicant", controller = "RunTeam"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SearchAllApplicant() on controller Team.Controllers.RunTeamController (Team).
2019-06-26 18:37:18.948 +08:00 [INF] Authorization was successful.
2019-06-26 18:37:19.359 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.SearchAllApplicant (Team) - Validation state: "Valid"
2019-06-26 18:37:19.625 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 18:37:19.916 +08:00 [INF] Executed DbCommand (80ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 18:37:20.005 +08:00 [INF] Executed DbCommand (27ms) [Parameters=[@__teamId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [x].[Id], [x].[ApplicationDate], [x].[Name], [x].[RunTeamId], [x].[Sex], [x].[UserId]
FROM [RunApplicants] AS [x]
WHERE [x].[RunTeamId] = @__teamId_0
2019-06-26 18:37:20.034 +08:00 [INF] 用户 1 查询 1 队伍申请者成功
2019-06-26 18:37:20.040 +08:00 [INF] Executed action method Team.Controllers.RunTeamController.SearchAllApplicant (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 670.7808ms.
2019-06-26 18:37:20.050 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 18:37:20.065 +08:00 [INF] Executed action Team.Controllers.RunTeamController.SearchAllApplicant (Team) in 1122.6742000000002ms
2019-06-26 18:37:20.068 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.SearchAllApplicant (Team)'
2019-06-26 18:37:20.070 +08:00 [INF] Request finished in 1249.476ms 200 application/json; charset=utf-8
2019-06-26 18:37:36.006 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/AgreeWithTheTeamApi?userId=1  
2019-06-26 18:37:36.009 +08:00 [INF] Successfully validated the token.
2019-06-26 18:37:36.014 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.AgreeWithTheTeamApi (Team)'
2019-06-26 18:37:36.029 +08:00 [INF] Route matched with {action = "AgreeWithTheTeamApi", controller = "RunTeam"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AgreeWithTheTeamApi(Int32) on controller Team.Controllers.RunTeamController (Team).
2019-06-26 18:37:36.033 +08:00 [INF] Authorization was successful.
2019-06-26 18:37:36.077 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.AgreeWithTheTeamApi (Team) - Validation state: "Valid"
2019-06-26 18:37:36.085 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 18:37:36.119 +08:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 18:37:36.124 +08:00 [INF] 用户 1 已加入队伍，申请失败
2019-06-26 18:37:36.125 +08:00 [INF] Executed action method Team.Controllers.RunTeamController.AgreeWithTheTeamApi (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 44.951ms.
2019-06-26 18:37:36.127 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 18:37:36.135 +08:00 [INF] Executed action Team.Controllers.RunTeamController.AgreeWithTheTeamApi (Team) in 102.6306ms
2019-06-26 18:37:36.138 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.AgreeWithTheTeamApi (Team)'
2019-06-26 18:37:36.141 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Writing to the response body is invalid for responses with status code 204.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowWritingToResponseBodyNotSupported()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.WriteAsync(ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseStream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count, CancellationToken cancellationToken)
   at System.IO.Stream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count)
   at Microsoft.AspNetCore.WebUtilities.HttpResponseStreamWriter.FlushInternalAsync(Boolean flushEncoder)
   at Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-26 18:37:36.259 +08:00 [WRN] The response has already started, the error page middleware will not be executed.
2019-06-26 18:37:36.260 +08:00 [ERR] Connection id "0HLNQ48Q5FHDO", Request id "0HLNQ48Q5FHDO:00000005": An unhandled exception was thrown by the application.
System.InvalidOperationException: Writing to the response body is invalid for responses with status code 204.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowWritingToResponseBodyNotSupported()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.WriteAsync(ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseStream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count, CancellationToken cancellationToken)
   at System.IO.Stream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count)
   at Microsoft.AspNetCore.WebUtilities.HttpResponseStreamWriter.FlushInternalAsync(Boolean flushEncoder)
   at Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2019-06-26 18:37:36.274 +08:00 [INF] Request finished in 267.2021ms 204 application/json; charset=utf-8
2019-06-26 18:38:13.850 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2019-06-26 18:38:13.854 +08:00 [INF] Request finished in 3.8686ms 200 text/html
2019-06-26 18:38:14.436 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2019-06-26 18:38:14.454 +08:00 [INF] Request finished in 18.1654ms 200 application/json;charset=utf-8
2019-06-26 18:38:23.358 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Login/UserLoginApi application/json-patch+json 50
2019-06-26 18:38:23.361 +08:00 [INF] Executing endpoint 'Team.Controllers.LoginController.UserLoginApi (Team)'
2019-06-26 18:38:23.369 +08:00 [INF] Route matched with {action = "UserLoginApi", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLoginApi(Team.Model.AutoMappers.UserMapper.UserLoginMap) on controller Team.Controllers.LoginController (Team).
2019-06-26 18:38:23.458 +08:00 [INF] Executing action method Team.Controllers.LoginController.UserLoginApi (Team) - Validation state: "Valid"
2019-06-26 18:38:23.465 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 18:38:23.550 +08:00 [INF] Executed DbCommand (58ms) [Parameters=[@__account_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE ([x].[Account] = @__account_0) AND ([x].[Password] = @__password_1)
2019-06-26 18:38:23.573 +08:00 [INF] 用户 2登陆成功
2019-06-26 18:38:23.577 +08:00 [INF] Executed action method Team.Controllers.LoginController.UserLoginApi (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 115.4608ms.
2019-06-26 18:38:23.586 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 18:38:23.590 +08:00 [INF] Executed action Team.Controllers.LoginController.UserLoginApi (Team) in 218.5215ms
2019-06-26 18:38:23.593 +08:00 [INF] Executed endpoint 'Team.Controllers.LoginController.UserLoginApi (Team)'
2019-06-26 18:38:23.600 +08:00 [INF] Request finished in 242.3761ms 200 application/json; charset=utf-8
2019-06-26 18:38:38.493 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/SearchRunTeamId  
2019-06-26 18:38:38.498 +08:00 [INF] Successfully validated the token.
2019-06-26 18:38:38.507 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.SearchRunTeamId (Team)'
2019-06-26 18:38:38.513 +08:00 [INF] Route matched with {action = "SearchRunTeamId", controller = "RunTeam"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SearchRunTeamId() on controller Team.Controllers.RunTeamController (Team).
2019-06-26 18:38:38.517 +08:00 [INF] Authorization was successful.
2019-06-26 18:38:38.537 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.SearchRunTeamId (Team) - Validation state: "Valid"
2019-06-26 18:38:38.541 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 18:38:38.570 +08:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 18:38:38.574 +08:00 [INF] 用户 2 未参加跑步队伍
2019-06-26 18:38:38.575 +08:00 [INF] Executed action method Team.Controllers.RunTeamController.SearchRunTeamId (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 34.7609ms.
2019-06-26 18:38:38.578 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 18:38:38.581 +08:00 [INF] Executed action Team.Controllers.RunTeamController.SearchRunTeamId (Team) in 63.6608ms
2019-06-26 18:38:38.582 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.SearchRunTeamId (Team)'
2019-06-26 18:38:38.584 +08:00 [INF] Request finished in 90.8043ms 200 application/json; charset=utf-8
2019-06-26 18:39:04.511 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/AgreeWithTheTeamApi?userId=1  
2019-06-26 18:39:04.514 +08:00 [INF] Successfully validated the token.
2019-06-26 18:39:04.515 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.AgreeWithTheTeamApi (Team)'
2019-06-26 18:39:04.518 +08:00 [INF] Route matched with {action = "AgreeWithTheTeamApi", controller = "RunTeam"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AgreeWithTheTeamApi(Int32) on controller Team.Controllers.RunTeamController (Team).
2019-06-26 18:39:04.520 +08:00 [INF] Authorization was successful.
2019-06-26 18:39:04.522 +08:00 [INF] Authorization was successful.
2019-06-26 18:39:04.546 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.AgreeWithTheTeamApi (Team) - Validation state: "Valid"
2019-06-26 18:39:04.548 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 18:39:04.576 +08:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 18:40:01.702 +08:00 [INF] 用户 1 已加入队伍，申请失败
2019-06-26 18:40:01.728 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/SearchAllApplicant  
2019-06-26 18:40:01.737 +08:00 [INF] Executed action method Team.Controllers.RunTeamController.AgreeWithTheTeamApi (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 57189.2185ms.
2019-06-26 18:40:01.740 +08:00 [INF] Successfully validated the token.
2019-06-26 18:40:01.741 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 18:40:01.742 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 18:40:01.743 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.SearchAllApplicant (Team)'
2019-06-26 18:40:01.765 +08:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
delete TeamLists;
2019-06-26 18:40:01.765 +08:00 [INF] Executed action Team.Controllers.RunTeamController.AgreeWithTheTeamApi (Team) in 57245.1941ms
2019-06-26 18:40:01.767 +08:00 [INF] Route matched with {action = "SearchAllApplicant", controller = "RunTeam"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SearchAllApplicant() on controller Team.Controllers.RunTeamController (Team).
2019-06-26 18:40:01.786 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.AgreeWithTheTeamApi (Team)'
2019-06-26 18:40:01.789 +08:00 [INF] Authorization was successful.
2019-06-26 18:40:01.791 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Writing to the response body is invalid for responses with status code 204.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowWritingToResponseBodyNotSupported()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.WriteAsync(ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseStream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count, CancellationToken cancellationToken)
   at System.IO.Stream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count)
   at Microsoft.AspNetCore.WebUtilities.HttpResponseStreamWriter.FlushInternalAsync(Boolean flushEncoder)
   at Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-26 18:40:01.791 +08:00 [INF] Authorization failed.
2019-06-26 18:40:01.817 +08:00 [WRN] The response has already started, the error page middleware will not be executed.
2019-06-26 18:40:01.818 +08:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2019-06-26 18:40:01.819 +08:00 [ERR] Connection id "0HLNQ48Q5FHDQ", Request id "0HLNQ48Q5FHDQ:00000005": An unhandled exception was thrown by the application.
System.InvalidOperationException: Writing to the response body is invalid for responses with status code 204.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowWritingToResponseBodyNotSupported()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.WriteAsync(ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseStream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count, CancellationToken cancellationToken)
   at System.IO.Stream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count)
   at Microsoft.AspNetCore.WebUtilities.HttpResponseStreamWriter.FlushInternalAsync(Boolean flushEncoder)
   at Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2019-06-26 18:40:01.824 +08:00 [INF] Executing ForbidResult with authentication schemes ([]).
2019-06-26 18:40:01.834 +08:00 [INF] Request finished in 57322.6133ms 204 application/json; charset=utf-8
2019-06-26 18:40:01.847 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2019-06-26 18:40:01.849 +08:00 [INF] Executed action Team.Controllers.RunTeamController.SearchAllApplicant (Team) in 60.205200000000005ms
2019-06-26 18:40:01.850 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.SearchAllApplicant (Team)'
2019-06-26 18:40:01.853 +08:00 [INF] Request finished in 124.5048ms 403 
2019-06-26 18:40:02.181 +08:00 [INF] Executed DbCommand (389ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[ApplicationStatus], [s].[Count], [s].[CreationTime], [s].[Introduction], [s].[Name], [s].[UserId]
FROM [RunTeams] AS [s]
WHERE ([s].[ApplicationStatus] = 1) AND ([s].[Count] > 5)
2019-06-26 18:40:02.187 +08:00 [INF] 时间 2019/6/26 18:40:02 更新跑团组队列表
2019-06-26 18:41:18.378 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/AgreeWithTheTeamApi?userId=2  
2019-06-26 18:41:18.380 +08:00 [INF] Successfully validated the token.
2019-06-26 18:41:18.381 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.AgreeWithTheTeamApi (Team)'
2019-06-26 18:41:18.383 +08:00 [INF] Route matched with {action = "AgreeWithTheTeamApi", controller = "RunTeam"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AgreeWithTheTeamApi(Int32) on controller Team.Controllers.RunTeamController (Team).
2019-06-26 18:41:18.387 +08:00 [INF] Authorization was successful.
2019-06-26 18:41:18.388 +08:00 [INF] Authorization was successful.
2019-06-26 18:41:18.412 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.AgreeWithTheTeamApi (Team) - Validation state: "Valid"
2019-06-26 18:41:18.415 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 18:41:18.444 +08:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 18:41:22.867 +08:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 18:41:23.015 +08:00 [INF] Executed DbCommand (138ms) [Parameters=[@__UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[ApplicationDate], [x].[Name], [x].[RunTeamId], [x].[Sex], [x].[UserId]
FROM [RunApplicants] AS [x]
WHERE [x].[UserId] = @__UserId_0
2019-06-26 18:41:23.063 +08:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 18:41:23.286 +08:00 [ERR] Failed executing DbCommand (150ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RunParticipantses] ([Id], [ApplicationDate], [Name], [RunTeamId], [Sex], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
System.Data.SqlClient.SqlException (0x80131904): 当 IDENTITY_INSERT 设置为 OFF 时，不能为表 'RunParticipantses' 中的标识列插入显式值。
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
ClientConnectionId:faa5eb69-bdba-400c-be78-25b638da8094
Error Number:544,State:1,Class:16
2019-06-26 18:41:23.316 +08:00 [ERR] An exception occurred in the database while saving changes for context type 'Team.Infrastructure.DbContext.MyContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: 当 IDENTITY_INSERT 设置为 OFF 时，不能为表 'RunParticipantses' 中的标识列插入显式值。
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: 当 IDENTITY_INSERT 设置为 OFF 时，不能为表 'RunParticipantses' 中的标识列插入显式值。
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2019-06-26 18:41:23.470 +08:00 [INF] Executed action Team.Controllers.RunTeamController.AgreeWithTheTeamApi (Team) in 5083.9972ms
2019-06-26 18:41:23.474 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.AgreeWithTheTeamApi (Team)'
2019-06-26 18:41:23.477 +08:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: 当 IDENTITY_INSERT 设置为 OFF 时，不能为表 'RunParticipantses' 中的标识列插入显式值。
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Team.Infrastructure.Repositories.UnitOfWork.SaveChanged() in D:\Microsoft VS2017\Word\.net core API\Team\Team.Infrastructure\Repositories\UnitOfWork.cs:line 22
   at Team.Controllers.RunTeamController.AgreeWithTheTeamApi(Int32 userId) in D:\Microsoft VS2017\Word\.net core API\Team\Team\Controllers\RunTeamController.cs:line 485
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-26 18:41:23.565 +08:00 [INF] Request finished in 5187.8695ms 500 text/html; charset=utf-8
2019-06-26 18:41:57.650 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/AgreeWithTheTeamApi?userId=2  
2019-06-26 18:41:57.657 +08:00 [INF] Successfully validated the token.
2019-06-26 18:41:57.659 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.AgreeWithTheTeamApi (Team)'
2019-06-26 18:41:57.661 +08:00 [INF] Route matched with {action = "AgreeWithTheTeamApi", controller = "RunTeam"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AgreeWithTheTeamApi(Int32) on controller Team.Controllers.RunTeamController (Team).
2019-06-26 18:41:57.670 +08:00 [INF] Authorization was successful.
2019-06-26 18:41:57.674 +08:00 [INF] Authorization was successful.
2019-06-26 18:41:57.700 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.AgreeWithTheTeamApi (Team) - Validation state: "Valid"
2019-06-26 18:41:57.704 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 18:41:57.731 +08:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 18:42:23.927 +08:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 18:42:35.105 +08:00 [INF] Executed DbCommand (25ms) [Parameters=[@__UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[ApplicationDate], [x].[Name], [x].[RunTeamId], [x].[Sex], [x].[UserId]
FROM [RunApplicants] AS [x]
WHERE [x].[UserId] = @__UserId_0
2019-06-26 18:43:39.123 +08:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 18:44:32.246 +08:00 [INF] User profile is available. Using 'C:\Users\10456\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-06-26 18:44:34.797 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2019-06-26 18:44:35.177 +08:00 [INF] Request finished in 382.3278ms 200 text/html
2019-06-26 18:44:37.043 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2019-06-26 18:44:37.219 +08:00 [INF] Request finished in 176.0088ms 200 application/json;charset=utf-8
2019-06-26 18:44:37.606 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2019-06-26 18:44:37.620 +08:00 [INF] Request finished in 13.9213ms 200 application/json;charset=utf-8
2019-06-26 18:44:40.720 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2019-06-26 18:44:40.755 +08:00 [INF] Request finished in 35.3789ms 200 application/json;charset=utf-8
2019-06-26 18:44:41.901 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Login/UserLoginApi application/json-patch+json 49
2019-06-26 18:44:41.975 +08:00 [INF] Executing endpoint 'Team.Controllers.LoginController.UserLoginApi (Team)'
2019-06-26 18:44:41.997 +08:00 [INF] Route matched with {action = "UserLoginApi", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLoginApi(Team.Model.AutoMappers.UserMapper.UserLoginMap) on controller Team.Controllers.LoginController (Team).
2019-06-26 18:44:42.586 +08:00 [INF] Executing action method Team.Controllers.LoginController.UserLoginApi (Team) - Validation state: "Valid"
2019-06-26 18:44:42.865 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 18:44:43.254 +08:00 [INF] Executed DbCommand (45ms) [Parameters=[@__account_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE ([x].[Account] = @__account_0) AND ([x].[Password] = @__password_1)
2019-06-26 18:44:43.345 +08:00 [INF] 用户 1登陆成功
2019-06-26 18:44:43.354 +08:00 [INF] Executed action method Team.Controllers.LoginController.UserLoginApi (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 756.05630000000008ms.
2019-06-26 18:44:43.373 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 18:44:43.389 +08:00 [INF] Executed action Team.Controllers.LoginController.UserLoginApi (Team) in 1382.9745ms
2019-06-26 18:44:43.393 +08:00 [INF] Executed endpoint 'Team.Controllers.LoginController.UserLoginApi (Team)'
2019-06-26 18:44:43.403 +08:00 [INF] Request finished in 1502.2906ms 200 application/json; charset=utf-8
2019-06-26 18:45:04.778 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/AgreeWithTheTeamApi?userId=2  
2019-06-26 18:45:04.790 +08:00 [INF] Successfully validated the token.
2019-06-26 18:45:04.794 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.AgreeWithTheTeamApi (Team)'
2019-06-26 18:45:04.805 +08:00 [INF] Route matched with {action = "AgreeWithTheTeamApi", controller = "RunTeam"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AgreeWithTheTeamApi(Int32) on controller Team.Controllers.RunTeamController (Team).
2019-06-26 18:45:04.818 +08:00 [INF] Authorization was successful.
2019-06-26 18:45:04.845 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.AgreeWithTheTeamApi (Team) - Validation state: "Valid"
2019-06-26 18:45:04.851 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 18:45:04.907 +08:00 [INF] Executed DbCommand (41ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 18:45:20.972 +08:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 18:45:21.011 +08:00 [INF] Executed DbCommand (26ms) [Parameters=[@__UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[ApplicationDate], [x].[Name], [x].[RunTeamId], [x].[Sex], [x].[UserId]
FROM [RunApplicants] AS [x]
WHERE [x].[UserId] = @__UserId_0
2019-06-26 18:45:48.081 +08:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 18:46:01.783 +08:00 [ERR] Failed executing DbCommand (49ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RunParticipantses] ([Id], [ApplicationDate], [Name], [RunTeamId], [Sex], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
System.Data.SqlClient.SqlException (0x80131904): 当 IDENTITY_INSERT 设置为 OFF 时，不能为表 'RunParticipantses' 中的标识列插入显式值。
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
ClientConnectionId:4128bc76-9728-43fe-920a-e3adce3838ac
Error Number:544,State:1,Class:16
2019-06-26 18:46:01.848 +08:00 [ERR] An exception occurred in the database while saving changes for context type 'Team.Infrastructure.DbContext.MyContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: 当 IDENTITY_INSERT 设置为 OFF 时，不能为表 'RunParticipantses' 中的标识列插入显式值。
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: 当 IDENTITY_INSERT 设置为 OFF 时，不能为表 'RunParticipantses' 中的标识列插入显式值。
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2019-06-26 18:46:02.024 +08:00 [INF] Executed action Team.Controllers.RunTeamController.AgreeWithTheTeamApi (Team) in 57215.4717ms
2019-06-26 18:46:02.027 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.AgreeWithTheTeamApi (Team)'
2019-06-26 18:46:02.029 +08:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: 当 IDENTITY_INSERT 设置为 OFF 时，不能为表 'RunParticipantses' 中的标识列插入显式值。
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Team.Infrastructure.Repositories.UnitOfWork.SaveChanged() in D:\Microsoft VS2017\Word\.net core API\Team\Team.Infrastructure\Repositories\UnitOfWork.cs:line 22
   at Team.Controllers.RunTeamController.AgreeWithTheTeamApi(Int32 userId) in D:\Microsoft VS2017\Word\.net core API\Team\Team\Controllers\RunTeamController.cs:line 485
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-26 18:46:02.127 +08:00 [INF] Request finished in 57349.0693ms 500 text/html; charset=utf-8
2019-06-26 18:46:47.588 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/AgreeWithTheTeamApi?userId=2  
2019-06-26 18:46:47.592 +08:00 [INF] Successfully validated the token.
2019-06-26 18:46:47.596 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.AgreeWithTheTeamApi (Team)'
2019-06-26 18:46:47.600 +08:00 [INF] Route matched with {action = "AgreeWithTheTeamApi", controller = "RunTeam"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AgreeWithTheTeamApi(Int32) on controller Team.Controllers.RunTeamController (Team).
2019-06-26 18:46:47.603 +08:00 [INF] Authorization was successful.
2019-06-26 18:46:47.624 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.AgreeWithTheTeamApi (Team) - Validation state: "Valid"
2019-06-26 18:46:47.627 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 18:46:47.654 +08:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 18:46:53.203 +08:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 18:46:53.233 +08:00 [INF] Executed DbCommand (25ms) [Parameters=[@__UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[ApplicationDate], [x].[Name], [x].[RunTeamId], [x].[Sex], [x].[UserId]
FROM [RunApplicants] AS [x]
WHERE [x].[UserId] = @__UserId_0
2019-06-26 18:46:53.263 +08:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 18:47:52.982 +08:00 [INF] User profile is available. Using 'C:\Users\10456\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-06-26 18:47:55.230 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2019-06-26 18:47:55.729 +08:00 [INF] Request finished in 504.0729ms 200 text/html
2019-06-26 18:47:57.805 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2019-06-26 18:47:58.032 +08:00 [INF] Request finished in 227.1988ms 200 application/json;charset=utf-8
2019-06-26 18:47:58.360 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2019-06-26 18:47:58.374 +08:00 [INF] Request finished in 13.872ms 200 application/json;charset=utf-8
2019-06-26 18:48:04.886 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Login/UserLoginApi application/json-patch+json 49
2019-06-26 18:48:04.963 +08:00 [INF] Executing endpoint 'Team.Controllers.LoginController.UserLoginApi (Team)'
2019-06-26 18:48:04.990 +08:00 [INF] Route matched with {action = "UserLoginApi", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLoginApi(Team.Model.AutoMappers.UserMapper.UserLoginMap) on controller Team.Controllers.LoginController (Team).
2019-06-26 18:48:05.559 +08:00 [INF] Executing action method Team.Controllers.LoginController.UserLoginApi (Team) - Validation state: "Valid"
2019-06-26 18:48:05.800 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 18:48:06.098 +08:00 [INF] Executed DbCommand (44ms) [Parameters=[@__account_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE ([x].[Account] = @__account_0) AND ([x].[Password] = @__password_1)
2019-06-26 18:48:06.173 +08:00 [INF] 用户 1登陆成功
2019-06-26 18:48:06.179 +08:00 [INF] Executed action method Team.Controllers.LoginController.UserLoginApi (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 610.28690000000006ms.
2019-06-26 18:48:06.193 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 18:48:06.204 +08:00 [INF] Executed action Team.Controllers.LoginController.UserLoginApi (Team) in 1206.8157ms
2019-06-26 18:48:06.207 +08:00 [INF] Executed endpoint 'Team.Controllers.LoginController.UserLoginApi (Team)'
2019-06-26 18:48:06.213 +08:00 [INF] Request finished in 1327.7041ms 200 application/json; charset=utf-8
2019-06-26 18:48:21.727 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/AgreeWithTheTeamApi?userId=2  
2019-06-26 18:48:21.738 +08:00 [INF] Successfully validated the token.
2019-06-26 18:48:21.744 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.AgreeWithTheTeamApi (Team)'
2019-06-26 18:48:21.750 +08:00 [INF] Route matched with {action = "AgreeWithTheTeamApi", controller = "RunTeam"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AgreeWithTheTeamApi(Int32) on controller Team.Controllers.RunTeamController (Team).
2019-06-26 18:48:21.763 +08:00 [INF] Authorization was successful.
2019-06-26 18:48:21.789 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.AgreeWithTheTeamApi (Team) - Validation state: "Valid"
2019-06-26 18:48:21.795 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 18:48:21.849 +08:00 [INF] Executed DbCommand (40ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 18:48:21.879 +08:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 18:48:21.915 +08:00 [INF] Executed DbCommand (24ms) [Parameters=[@__UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[ApplicationDate], [x].[Name], [x].[RunTeamId], [x].[Sex], [x].[UserId]
FROM [RunApplicants] AS [x]
WHERE [x].[UserId] = @__UserId_0
2019-06-26 18:48:21.984 +08:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 18:48:36.048 +08:00 [INF] Executed DbCommand (154ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RunParticipantses] ([ApplicationDate], [Name], [RunTeamId], [Sex], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [RunParticipantses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2019-06-26 18:48:36.177 +08:00 [INF] Executed DbCommand (115ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [RunTeamId] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2019-06-26 18:48:36.192 +08:00 [ERR] 用户 2 申请加入 1 战队成功
2019-06-26 18:48:36.194 +08:00 [INF] Executed action method Team.Controllers.RunTeamController.AgreeWithTheTeamApi (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 14401.961500000001ms.
2019-06-26 18:48:36.197 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 18:48:36.198 +08:00 [INF] Executed action Team.Controllers.RunTeamController.AgreeWithTheTeamApi (Team) in 14442.385600000001ms
2019-06-26 18:48:36.201 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.AgreeWithTheTeamApi (Team)'
2019-06-26 18:48:36.203 +08:00 [INF] Request finished in 14476.2757ms 201 application/json; charset=utf-8
2019-06-26 18:48:45.674 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/SearchTeamApi?teamId=1  
2019-06-26 18:48:45.676 +08:00 [INF] Successfully validated the token.
2019-06-26 18:48:45.682 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.SearchTeamApi (Team)'
2019-06-26 18:48:45.687 +08:00 [INF] Route matched with {action = "SearchTeamApi", controller = "RunTeam"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SearchTeamApi(Int32) on controller Team.Controllers.RunTeamController (Team).
2019-06-26 18:48:45.692 +08:00 [INF] Authorization was successful.
2019-06-26 18:48:45.713 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.SearchTeamApi (Team) - Validation state: "Valid"
2019-06-26 18:48:45.718 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 18:48:45.788 +08:00 [INF] Executed DbCommand (29ms) [Parameters=[@__teamId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[ApplicationStatus], [x].[Count], [x].[CreationTime], [x].[Introduction], [x].[Name], [x].[UserId]
FROM [RunTeams] AS [x]
WHERE [x].[Id] = @__teamId_0
ORDER BY [x].[Id]
2019-06-26 18:48:45.837 +08:00 [INF] Executed DbCommand (28ms) [Parameters=[@__teamId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [x.RunParticipantses].[Id], [x.RunParticipantses].[ApplicationDate], [x.RunParticipantses].[Name], [x.RunParticipantses].[RunTeamId], [x.RunParticipantses].[Sex], [x.RunParticipantses].[UserId]
FROM [RunParticipantses] AS [x.RunParticipantses]
INNER JOIN (
    SELECT TOP(1) [x0].[Id]
    FROM [RunTeams] AS [x0]
    WHERE [x0].[Id] = @__teamId_0
    ORDER BY [x0].[Id]
) AS [t] ON [x.RunParticipantses].[RunTeamId] = [t].[Id]
ORDER BY [t].[Id]
2019-06-26 18:48:45.852 +08:00 [INF] 查询跑步团队 1 成功
2019-06-26 18:48:45.854 +08:00 [INF] Executed action method Team.Controllers.RunTeamController.SearchTeamApi (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 139.8124ms.
2019-06-26 18:48:45.856 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 18:48:45.862 +08:00 [INF] Executed action Team.Controllers.RunTeamController.SearchTeamApi (Team) in 170.9754ms
2019-06-26 18:48:45.866 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.SearchTeamApi (Team)'
2019-06-26 18:48:45.869 +08:00 [INF] Request finished in 194.7935ms 200 application/json; charset=utf-8
2019-06-26 19:05:18.544 +08:00 [INF] User profile is available. Using 'C:\Users\10456\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-06-26 19:05:20.312 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2019-06-26 19:05:20.510 +08:00 [INF] Request finished in 200.8417ms 200 text/html
2019-06-26 19:05:21.286 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2019-06-26 19:05:21.497 +08:00 [INF] Request finished in 211.2517ms 200 application/json;charset=utf-8
2019-06-26 19:09:10.752 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Login/UserRegisteredApi application/json-patch+json 145
2019-06-26 19:09:10.847 +08:00 [INF] Executing endpoint 'Team.Controllers.LoginController.UserRegisteredApi (Team)'
2019-06-26 19:09:10.970 +08:00 [INF] Route matched with {action = "UserRegisteredApi", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserRegisteredApi(Team.Model.AutoMappers.UserMapper.UserRegisteredMap) on controller Team.Controllers.LoginController (Team).
2019-06-26 19:09:11.628 +08:00 [INF] Executing action method Team.Controllers.LoginController.UserRegisteredApi (Team) - Validation state: "Valid"
2019-06-26 19:09:11.884 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 19:09:12.366 +08:00 [INF] Executed DbCommand (73ms) [Parameters=[@__account_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Account] = @__account_0
2019-06-26 19:09:12.666 +08:00 [INF] Executed DbCommand (112ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Account], [Name], [Password], [Province], [Role], [RunTeamId], [Sex], [StudentId], [UniversityId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [Users]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2019-06-26 19:09:12.897 +08:00 [INF] Executed DbCommand (201ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Double), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [LatitudeAndLongitudes] ([Latitude], [Longitude], [Name], [Phone], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [LatitudeAndLongitudes]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2019-06-26 19:09:12.942 +08:00 [INF] Executed DbCommand (40ms) [Parameters=[@p0='?' (DbType = Single), @p1='?' (DbType = Single), @p2='?' (DbType = Single), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Statisticals] ([AllTime], [Calories], [Distance], [SportFreeModel], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Statisticals]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2019-06-26 19:09:12.963 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Single), @p1='?' (DbType = Single), @p2='?' (DbType = Single), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Statisticals] ([AllTime], [Calories], [Distance], [SportFreeModel], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Statisticals]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2019-06-26 19:09:13.018 +08:00 [INF] string4 注册成功
2019-06-26 19:09:13.024 +08:00 [INF] Executed action method Team.Controllers.LoginController.UserRegisteredApi (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1386.2166ms.
2019-06-26 19:09:13.037 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 19:09:13.066 +08:00 [INF] Executed action Team.Controllers.LoginController.UserRegisteredApi (Team) in 2090.5883ms
2019-06-26 19:09:13.069 +08:00 [INF] Executed endpoint 'Team.Controllers.LoginController.UserRegisteredApi (Team)'
2019-06-26 19:09:13.075 +08:00 [INF] Request finished in 2322.9084ms 200 application/json; charset=utf-8
2019-06-26 19:09:28.566 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/RunTeam/RunTeamCreateApi application/json-patch+json 51
2019-06-26 19:09:28.582 +08:00 [INF] Successfully validated the token.
2019-06-26 19:09:28.587 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.RunTeamCreateApiAsync (Team)'
2019-06-26 19:09:28.595 +08:00 [INF] Route matched with {action = "RunTeamCreateApiAsync", controller = "RunTeam"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RunTeamCreateApiAsync(Team.Model.AutoMappers.RunTeamMapper.RunTeamCreateMap) on controller Team.Controllers.RunTeamController (Team).
2019-06-26 19:09:28.610 +08:00 [INF] Authorization was successful.
2019-06-26 19:09:28.644 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.RunTeamCreateApiAsync (Team) - Validation state: "Valid"
2019-06-26 19:09:28.760 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 19:09:28.834 +08:00 [INF] Executed DbCommand (52ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 19:09:28.940 +08:00 [INF] Executed DbCommand (35ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RunTeams] ([ApplicationStatus], [Count], [CreationTime], [Introduction], [Name], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [RunTeams]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2019-06-26 19:09:29.019 +08:00 [INF] Executed DbCommand (69ms) [Parameters=[@p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RunParticipantses] ([ApplicationDate], [Name], [RunTeamId], [Sex], [UserId])
VALUES (@p6, @p7, @p8, @p9, @p10);
SELECT [Id]
FROM [RunParticipantses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2019-06-26 19:09:29.037 +08:00 [INF] 用户 4 创建跑步队伍成功
2019-06-26 19:09:29.039 +08:00 [INF] Executed action method Team.Controllers.RunTeamController.RunTeamCreateApiAsync (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 392.332ms.
2019-06-26 19:09:29.042 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 19:09:29.044 +08:00 [INF] Executed action Team.Controllers.RunTeamController.RunTeamCreateApiAsync (Team) in 444.1985ms
2019-06-26 19:09:29.046 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.RunTeamCreateApiAsync (Team)'
2019-06-26 19:09:29.048 +08:00 [INF] Request finished in 481.3772ms 201 application/json; charset=utf-8
2019-06-26 19:10:00.035 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 19:10:00.059 +08:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
delete TeamLists;
2019-06-26 19:10:00.212 +08:00 [INF] Executed DbCommand (143ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[ApplicationStatus], [s].[Count], [s].[CreationTime], [s].[Introduction], [s].[Name], [s].[UserId]
FROM [RunTeams] AS [s]
WHERE ([s].[ApplicationStatus] = 1) AND ([s].[Count] > 5)
2019-06-26 19:10:00.218 +08:00 [INF] 时间 2019/6/26 19:10:00 更新跑团组队列表
2019-06-26 19:38:03.120 +08:00 [INF] User profile is available. Using 'C:\Users\10456\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-06-26 19:38:04.635 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2019-06-26 19:38:04.867 +08:00 [INF] Request finished in 233.6957ms 200 text/html
2019-06-26 19:38:05.625 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2019-06-26 19:38:05.802 +08:00 [INF] Request finished in 177.9584ms 200 application/json;charset=utf-8
2019-06-26 19:39:29.847 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Login/UserLoginApi application/json-patch+json 49
2019-06-26 19:39:29.928 +08:00 [INF] Executing endpoint 'Team.Controllers.LoginController.UserLoginApi (Team)'
2019-06-26 19:39:29.953 +08:00 [INF] Route matched with {action = "UserLoginApi", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLoginApi(Team.Model.AutoMappers.UserMapper.UserLoginMap) on controller Team.Controllers.LoginController (Team).
2019-06-26 19:39:30.421 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 19:39:31.338 +08:00 [INF] Executed DbCommand (801ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 19:39:31.754 +08:00 [INF] Executing action method Team.Controllers.LoginController.UserLoginApi (Team) - Validation state: "Valid"
2019-06-26 19:39:31.931 +08:00 [INF] Executed DbCommand (65ms) [Parameters=[@__account_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE ([x].[Account] = @__account_0) AND ([x].[Password] = @__password_1)
2019-06-26 19:39:32.012 +08:00 [INF] 用户 1登陆成功
2019-06-26 19:39:32.018 +08:00 [INF] Executed action method Team.Controllers.LoginController.UserLoginApi (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 259.67670000000004ms.
2019-06-26 19:39:32.033 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 19:39:32.044 +08:00 [INF] Executed action Team.Controllers.LoginController.UserLoginApi (Team) in 2085.7085ms
2019-06-26 19:39:32.048 +08:00 [INF] Executed endpoint 'Team.Controllers.LoginController.UserLoginApi (Team)'
2019-06-26 19:39:32.058 +08:00 [INF] Request finished in 2211.5336ms 200 application/json; charset=utf-8
2019-06-26 19:40:00.061 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 19:40:00.641 +08:00 [INF] Executed DbCommand (568ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 19:40:00.665 +08:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
delete TeamLists;
2019-06-26 19:40:00.709 +08:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[ApplicationStatus], [s].[Count], [s].[CreationTime], [s].[Introduction], [s].[Name], [s].[UserId]
FROM [RunTeams] AS [s]
WHERE ([s].[ApplicationStatus] = 1) AND ([s].[Count] > 5)
2019-06-26 19:40:00.713 +08:00 [INF] 时间 2019/6/26 19:40:00 更新跑团组队列表
2019-06-26 19:40:07.739 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/ExitRunTeam  
2019-06-26 19:40:07.759 +08:00 [INF] Successfully validated the token.
2019-06-26 19:40:07.765 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.ExitRunTeam (Team)'
2019-06-26 19:40:07.771 +08:00 [INF] Route matched with {action = "ExitRunTeam", controller = "RunTeam"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ObjectResult] ExitRunTeam() on controller Team.Controllers.RunTeamController (Team).
2019-06-26 19:40:07.784 +08:00 [INF] Authorization failed.
2019-06-26 19:40:07.785 +08:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2019-06-26 19:40:07.790 +08:00 [INF] Executing ForbidResult with authentication schemes ([]).
2019-06-26 19:40:07.797 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2019-06-26 19:40:07.799 +08:00 [INF] Executed action Team.Controllers.RunTeamController.ExitRunTeam (Team) in 23.9158ms
2019-06-26 19:40:07.801 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.ExitRunTeam (Team)'
2019-06-26 19:40:07.804 +08:00 [INF] Request finished in 65.1475ms 403 
2019-06-26 19:40:15.184 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2019-06-26 19:40:15.187 +08:00 [INF] Request finished in 2.9928ms 200 text/html
2019-06-26 19:40:15.869 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2019-06-26 19:40:15.889 +08:00 [INF] Request finished in 19.7352ms 200 application/json;charset=utf-8
2019-06-26 19:40:25.051 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Login/UserLoginApi application/json-patch+json 50
2019-06-26 19:40:25.056 +08:00 [INF] Executing endpoint 'Team.Controllers.LoginController.UserLoginApi (Team)'
2019-06-26 19:40:25.059 +08:00 [INF] Route matched with {action = "UserLoginApi", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLoginApi(Team.Model.AutoMappers.UserMapper.UserLoginMap) on controller Team.Controllers.LoginController (Team).
2019-06-26 19:40:25.064 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 19:40:25.100 +08:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 19:40:25.127 +08:00 [INF] Executing action method Team.Controllers.LoginController.UserLoginApi (Team) - Validation state: "Valid"
2019-06-26 19:40:25.293 +08:00 [INF] Executed DbCommand (162ms) [Parameters=[@__account_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE ([x].[Account] = @__account_0) AND ([x].[Password] = @__password_1)
2019-06-26 19:40:25.297 +08:00 [INF] 用户 2登陆成功
2019-06-26 19:40:25.297 +08:00 [INF] Executed action method Team.Controllers.LoginController.UserLoginApi (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 167.9024ms.
2019-06-26 19:40:25.299 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 19:40:25.301 +08:00 [INF] Executed action Team.Controllers.LoginController.UserLoginApi (Team) in 237.9291ms
2019-06-26 19:40:25.303 +08:00 [INF] Executed endpoint 'Team.Controllers.LoginController.UserLoginApi (Team)'
2019-06-26 19:40:25.304 +08:00 [INF] Request finished in 253.45ms 200 application/json; charset=utf-8
2019-06-26 19:40:40.406 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/ExitRunTeam  
2019-06-26 19:40:40.410 +08:00 [INF] Successfully validated the token.
2019-06-26 19:40:40.414 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.ExitRunTeam (Team)'
2019-06-26 19:40:40.416 +08:00 [INF] Route matched with {action = "ExitRunTeam", controller = "RunTeam"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ObjectResult] ExitRunTeam() on controller Team.Controllers.RunTeamController (Team).
2019-06-26 19:40:40.418 +08:00 [INF] Authorization was successful.
2019-06-26 19:40:40.421 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 19:40:40.446 +08:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 19:40:40.468 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.ExitRunTeam (Team) - Validation state: "Valid"
2019-06-26 19:40:40.533 +08:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 19:40:40.778 +08:00 [INF] Executed DbCommand (231ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__teamId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[ApplicationDate], [x].[Name], [x].[RunTeamId], [x].[Sex], [x].[UserId]
FROM [RunParticipantses] AS [x]
WHERE ([x].[UserId] = @__userId_0) AND ([x].[RunTeamId] = @__teamId_1)
2019-06-26 19:40:40.817 +08:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 19:40:41.057 +08:00 [INF] Executed DbCommand (163ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [RunParticipantses]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2019-06-26 19:40:41.109 +08:00 [INF] Executed DbCommand (35ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [Account] = @p0, [Name] = @p1, [Password] = @p2, [Province] = @p3, [Role] = @p4, [RunTeamId] = @p5, [Sex] = @p6, [StudentId] = @p7, [UniversityId] = @p8
WHERE [Id] = @p9;
SELECT @@ROWCOUNT;
2019-06-26 19:40:41.123 +08:00 [INF] 用户 2 退出 0 战队保存成功
2019-06-26 19:40:41.126 +08:00 [INF] Executed action method Team.Controllers.RunTeamController.ExitRunTeam (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 654.1005ms.
2019-06-26 19:40:41.128 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 19:40:41.129 +08:00 [INF] Executed action Team.Controllers.RunTeamController.ExitRunTeam (Team) in 711.2603ms
2019-06-26 19:40:41.131 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.ExitRunTeam (Team)'
2019-06-26 19:40:41.132 +08:00 [INF] Request finished in 725.5118ms 200 application/json; charset=utf-8
2019-06-26 19:41:07.740 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/SearchTeamApi?teamId=1  
2019-06-26 19:41:07.742 +08:00 [INF] Successfully validated the token.
2019-06-26 19:41:07.743 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.SearchTeamApi (Team)'
2019-06-26 19:41:07.749 +08:00 [INF] Route matched with {action = "SearchTeamApi", controller = "RunTeam"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SearchTeamApi(Int32) on controller Team.Controllers.RunTeamController (Team).
2019-06-26 19:41:07.755 +08:00 [INF] Authorization was successful.
2019-06-26 19:41:07.758 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 19:41:07.816 +08:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 19:41:07.842 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.SearchTeamApi (Team) - Validation state: "Valid"
2019-06-26 19:41:07.918 +08:00 [INF] Executed DbCommand (29ms) [Parameters=[@__teamId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[ApplicationStatus], [x].[Count], [x].[CreationTime], [x].[Introduction], [x].[Name], [x].[UserId]
FROM [RunTeams] AS [x]
WHERE [x].[Id] = @__teamId_0
ORDER BY [x].[Id]
2019-06-26 19:41:08.089 +08:00 [INF] Executed DbCommand (153ms) [Parameters=[@__teamId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [x.RunParticipantses].[Id], [x.RunParticipantses].[ApplicationDate], [x.RunParticipantses].[Name], [x.RunParticipantses].[RunTeamId], [x.RunParticipantses].[Sex], [x.RunParticipantses].[UserId]
FROM [RunParticipantses] AS [x.RunParticipantses]
INNER JOIN (
    SELECT TOP(1) [x0].[Id]
    FROM [RunTeams] AS [x0]
    WHERE [x0].[Id] = @__teamId_0
    ORDER BY [x0].[Id]
) AS [t] ON [x.RunParticipantses].[RunTeamId] = [t].[Id]
ORDER BY [t].[Id]
2019-06-26 19:41:08.117 +08:00 [INF] 查询跑步团队 1 成功
2019-06-26 19:41:08.119 +08:00 [INF] Executed action method Team.Controllers.RunTeamController.SearchTeamApi (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 275.44030000000004ms.
2019-06-26 19:41:08.121 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 19:41:08.129 +08:00 [INF] Executed action Team.Controllers.RunTeamController.SearchTeamApi (Team) in 374.5962ms
2019-06-26 19:41:08.131 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.SearchTeamApi (Team)'
2019-06-26 19:41:08.133 +08:00 [INF] Request finished in 393.0659ms 200 application/json; charset=utf-8
2019-06-26 19:41:37.080 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/ApplyToJoinTeamApi?teamId=1  
2019-06-26 19:41:37.083 +08:00 [INF] Successfully validated the token.
2019-06-26 19:41:37.084 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team)'
2019-06-26 19:41:37.089 +08:00 [INF] Route matched with {action = "ApplyToJoinTeamApiAsync", controller = "RunTeam"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApplyToJoinTeamApiAsync(Int32) on controller Team.Controllers.RunTeamController (Team).
2019-06-26 19:41:37.092 +08:00 [INF] Authorization was successful.
2019-06-26 19:41:37.093 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 19:41:37.125 +08:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 19:41:37.152 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team) - Validation state: "Valid"
2019-06-26 19:41:37.185 +08:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 19:41:37.330 +08:00 [INF] Executed DbCommand (132ms) [Parameters=[@__teamId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [x].[Id], [x].[ApplicationDate], [x].[Name], [x].[RunTeamId], [x].[Sex], [x].[UserId]
FROM [RunApplicants] AS [x]
WHERE [x].[RunTeamId] = @__teamId_0
2019-06-26 19:41:37.408 +08:00 [INF] Executed action Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team) in 315.8598ms
2019-06-26 19:41:37.411 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team)'
2019-06-26 19:41:37.414 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentOutOfRangeException: Index was out of range. Must be non-negative and less than the size of the collection.
Parameter name: index
   at System.Collections.Generic.List`1.set_Item(Int32 index, T value)
   at Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync(Int32 teamId) in D:\Microsoft VS2017\Word\.net core API\Team\Team\Controllers\RunTeamController.cs:line 368
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-26 19:41:37.559 +08:00 [INF] Request finished in 479.2694ms 500 text/html; charset=utf-8
2019-06-26 19:42:03.877 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/ApplyToJoinTeamApi?teamId=1  
2019-06-26 19:42:03.881 +08:00 [INF] Successfully validated the token.
2019-06-26 19:42:03.884 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team)'
2019-06-26 19:42:03.888 +08:00 [INF] Route matched with {action = "ApplyToJoinTeamApiAsync", controller = "RunTeam"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApplyToJoinTeamApiAsync(Int32) on controller Team.Controllers.RunTeamController (Team).
2019-06-26 19:42:03.898 +08:00 [INF] Authorization was successful.
2019-06-26 19:42:03.899 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 19:42:03.923 +08:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 19:42:03.947 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team) - Validation state: "Valid"
2019-06-26 19:42:03.972 +08:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 19:42:03.999 +08:00 [INF] Executed DbCommand (21ms) [Parameters=[@__teamId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [x].[Id], [x].[ApplicationDate], [x].[Name], [x].[RunTeamId], [x].[Sex], [x].[UserId]
FROM [RunApplicants] AS [x]
WHERE [x].[RunTeamId] = @__teamId_0
2019-06-26 19:42:04.046 +08:00 [INF] Executed action Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team) in 147.9812ms
2019-06-26 19:42:04.048 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team)'
2019-06-26 19:42:04.050 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentOutOfRangeException: Index was out of range. Must be non-negative and less than the size of the collection.
Parameter name: index
   at System.Collections.Generic.List`1.set_Item(Int32 index, T value)
   at Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync(Int32 teamId) in D:\Microsoft VS2017\Word\.net core API\Team\Team\Controllers\RunTeamController.cs:line 368
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-26 19:42:04.070 +08:00 [INF] Request finished in 193.3812ms 500 text/html; charset=utf-8
2019-06-26 19:43:01.485 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/ApplyToJoinTeamApi?teamId=1  
2019-06-26 19:43:01.488 +08:00 [INF] Successfully validated the token.
2019-06-26 19:43:01.489 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team)'
2019-06-26 19:43:01.491 +08:00 [INF] Route matched with {action = "ApplyToJoinTeamApiAsync", controller = "RunTeam"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApplyToJoinTeamApiAsync(Int32) on controller Team.Controllers.RunTeamController (Team).
2019-06-26 19:43:01.493 +08:00 [INF] Authorization was successful.
2019-06-26 19:43:01.495 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 19:43:01.527 +08:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 19:43:01.548 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team) - Validation state: "Valid"
2019-06-26 19:43:01.579 +08:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 19:43:26.847 +08:00 [INF] Executed DbCommand (25ms) [Parameters=[@__teamId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [x].[Id], [x].[ApplicationDate], [x].[Name], [x].[RunTeamId], [x].[Sex], [x].[UserId]
FROM [RunApplicants] AS [x]
WHERE [x].[RunTeamId] = @__teamId_0
2019-06-26 19:43:26.909 +08:00 [INF] Executed action Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team) in 25415.420400000003ms
2019-06-26 19:43:26.911 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team)'
2019-06-26 19:43:26.913 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentOutOfRangeException: Index was out of range. Must be non-negative and less than the size of the collection.
Parameter name: index
   at System.Collections.Generic.List`1.set_Item(Int32 index, T value)
   at Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync(Int32 teamId) in D:\Microsoft VS2017\Word\.net core API\Team\Team\Controllers\RunTeamController.cs:line 368
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-26 19:43:26.935 +08:00 [INF] Request finished in 25450.6597ms 500 text/html; charset=utf-8
2019-06-26 19:43:53.941 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/ApplyToJoinTeamApi?teamId=1  
2019-06-26 19:43:53.943 +08:00 [INF] Successfully validated the token.
2019-06-26 19:43:53.944 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team)'
2019-06-26 19:43:53.945 +08:00 [INF] Route matched with {action = "ApplyToJoinTeamApiAsync", controller = "RunTeam"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApplyToJoinTeamApiAsync(Int32) on controller Team.Controllers.RunTeamController (Team).
2019-06-26 19:43:53.948 +08:00 [INF] Authorization was successful.
2019-06-26 19:43:53.950 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 19:43:53.984 +08:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 19:43:54.005 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team) - Validation state: "Valid"
2019-06-26 19:43:54.032 +08:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 19:44:57.311 +08:00 [INF] Executed DbCommand (23ms) [Parameters=[@__teamId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [x].[Id], [x].[ApplicationDate], [x].[Name], [x].[RunTeamId], [x].[Sex], [x].[UserId]
FROM [RunApplicants] AS [x]
WHERE [x].[RunTeamId] = @__teamId_0
2019-06-26 19:45:16.130 +08:00 [INF] Executed action Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team) in 82182.110800000009ms
2019-06-26 19:45:16.132 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team)'
2019-06-26 19:45:16.134 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentOutOfRangeException: Index was out of range. Must be non-negative and less than the size of the collection.
Parameter name: index
   at System.Collections.Generic.List`1.set_Item(Int32 index, T value)
   at Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync(Int32 teamId) in D:\Microsoft VS2017\Word\.net core API\Team\Team\Controllers\RunTeamController.cs:line 368
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-26 19:45:16.164 +08:00 [INF] Request finished in 82223.8293ms 500 text/html; charset=utf-8
2019-06-26 19:45:26.903 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/ApplyToJoinTeamApi?teamId=1  
2019-06-26 19:45:26.905 +08:00 [INF] Successfully validated the token.
2019-06-26 19:45:26.906 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team)'
2019-06-26 19:45:26.908 +08:00 [INF] Route matched with {action = "ApplyToJoinTeamApiAsync", controller = "RunTeam"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApplyToJoinTeamApiAsync(Int32) on controller Team.Controllers.RunTeamController (Team).
2019-06-26 19:45:26.910 +08:00 [INF] Authorization was successful.
2019-06-26 19:45:26.912 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 19:45:26.949 +08:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 19:45:26.975 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team) - Validation state: "Valid"
2019-06-26 19:45:27.003 +08:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 19:45:27.028 +08:00 [INF] Executed DbCommand (20ms) [Parameters=[@__teamId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [x].[Id], [x].[ApplicationDate], [x].[Name], [x].[RunTeamId], [x].[Sex], [x].[UserId]
FROM [RunApplicants] AS [x]
WHERE [x].[RunTeamId] = @__teamId_0
2019-06-26 19:46:51.640 +08:00 [INF] Executed action Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team) in 84729.8647ms
2019-06-26 19:46:51.645 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team)'
2019-06-26 19:46:51.653 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentOutOfRangeException: Index was out of range. Must be non-negative and less than the size of the collection.
Parameter name: index
   at System.Collections.Generic.List`1.set_Item(Int32 index, T value)
   at Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync(Int32 teamId) in D:\Microsoft VS2017\Word\.net core API\Team\Team\Controllers\RunTeamController.cs:line 368
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-26 19:46:51.673 +08:00 [INF] Request finished in 84769.6598ms 500 text/html; charset=utf-8
2019-06-26 19:47:42.963 +08:00 [INF] User profile is available. Using 'C:\Users\10456\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-06-26 19:47:50.816 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2019-06-26 19:47:51.131 +08:00 [INF] Request finished in 318.1013ms 200 text/html
2019-06-26 19:47:51.939 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2019-06-26 19:47:52.128 +08:00 [INF] Request finished in 189.619ms 200 application/json;charset=utf-8
2019-06-26 19:48:00.761 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Login/UserLoginApi application/json-patch+json 50
2019-06-26 19:48:00.841 +08:00 [INF] Executing endpoint 'Team.Controllers.LoginController.UserLoginApi (Team)'
2019-06-26 19:48:00.867 +08:00 [INF] Route matched with {action = "UserLoginApi", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLoginApi(Team.Model.AutoMappers.UserMapper.UserLoginMap) on controller Team.Controllers.LoginController (Team).
2019-06-26 19:48:01.221 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 19:48:01.416 +08:00 [INF] Executed DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 19:48:01.806 +08:00 [INF] Executing action method Team.Controllers.LoginController.UserLoginApi (Team) - Validation state: "Valid"
2019-06-26 19:48:01.971 +08:00 [INF] Executed DbCommand (60ms) [Parameters=[@__account_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE ([x].[Account] = @__account_0) AND ([x].[Password] = @__password_1)
2019-06-26 19:48:02.053 +08:00 [INF] 用户 2登陆成功
2019-06-26 19:48:02.059 +08:00 [INF] Executed action method Team.Controllers.LoginController.UserLoginApi (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 248.2262ms.
2019-06-26 19:48:02.072 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 19:48:02.085 +08:00 [INF] Executed action Team.Controllers.LoginController.UserLoginApi (Team) in 1212.5957ms
2019-06-26 19:48:02.088 +08:00 [INF] Executed endpoint 'Team.Controllers.LoginController.UserLoginApi (Team)'
2019-06-26 19:48:02.094 +08:00 [INF] Request finished in 1333.3745ms 200 application/json; charset=utf-8
2019-06-26 19:48:16.813 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/ApplyToJoinTeamApi?teamId=1  
2019-06-26 19:48:16.824 +08:00 [INF] Successfully validated the token.
2019-06-26 19:48:16.829 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team)'
2019-06-26 19:48:16.839 +08:00 [INF] Route matched with {action = "ApplyToJoinTeamApiAsync", controller = "RunTeam"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApplyToJoinTeamApiAsync(Int32) on controller Team.Controllers.RunTeamController (Team).
2019-06-26 19:48:16.857 +08:00 [INF] Authorization was successful.
2019-06-26 19:48:16.859 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 19:48:16.893 +08:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 19:48:16.935 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team) - Validation state: "Valid"
2019-06-26 19:48:16.991 +08:00 [INF] Executed DbCommand (37ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 19:48:17.030 +08:00 [INF] Executed DbCommand (26ms) [Parameters=[@__teamId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [x].[Id], [x].[ApplicationDate], [x].[Name], [x].[RunTeamId], [x].[Sex], [x].[UserId]
FROM [RunApplicants] AS [x]
WHERE [x].[RunTeamId] = @__teamId_0
2019-06-26 19:48:19.621 +08:00 [INF] Executed action Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team) in 2776.9864000000002ms
2019-06-26 19:48:19.624 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team)'
2019-06-26 19:48:19.626 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentOutOfRangeException: Index was out of range. Must be non-negative and less than the size of the collection.
Parameter name: index
   at System.Collections.Generic.List`1.set_Item(Int32 index, T value)
   at Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync(Int32 teamId) in D:\Microsoft VS2017\Word\.net core API\Team\Team\Controllers\RunTeamController.cs:line 368
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-26 19:48:19.723 +08:00 [INF] Request finished in 2909.5351ms 500 text/html; charset=utf-8
2019-06-26 19:51:07.504 +08:00 [INF] User profile is available. Using 'C:\Users\10456\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-06-26 19:51:08.779 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2019-06-26 19:51:08.939 +08:00 [INF] Request finished in 162.8134ms 200 text/html
2019-06-26 19:51:09.609 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2019-06-26 19:51:09.841 +08:00 [INF] Request finished in 231.8975ms 200 application/json;charset=utf-8
2019-06-26 19:51:20.263 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Login/UserLoginApi application/json-patch+json 50
2019-06-26 19:51:20.345 +08:00 [INF] Executing endpoint 'Team.Controllers.LoginController.UserLoginApi (Team)'
2019-06-26 19:51:20.369 +08:00 [INF] Route matched with {action = "UserLoginApi", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLoginApi(Team.Model.AutoMappers.UserMapper.UserLoginMap) on controller Team.Controllers.LoginController (Team).
2019-06-26 19:51:20.702 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 19:51:20.919 +08:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 19:51:21.311 +08:00 [INF] Executing action method Team.Controllers.LoginController.UserLoginApi (Team) - Validation state: "Valid"
2019-06-26 19:51:21.479 +08:00 [INF] Executed DbCommand (61ms) [Parameters=[@__account_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE ([x].[Account] = @__account_0) AND ([x].[Password] = @__password_1)
2019-06-26 19:51:21.564 +08:00 [INF] 用户 2登陆成功
2019-06-26 19:51:21.570 +08:00 [INF] Executed action method Team.Controllers.LoginController.UserLoginApi (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 253.7785ms.
2019-06-26 19:51:21.587 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 19:51:21.601 +08:00 [INF] Executed action Team.Controllers.LoginController.UserLoginApi (Team) in 1225.3477ms
2019-06-26 19:51:21.604 +08:00 [INF] Executed endpoint 'Team.Controllers.LoginController.UserLoginApi (Team)'
2019-06-26 19:51:21.611 +08:00 [INF] Request finished in 1348.0308ms 200 application/json; charset=utf-8
2019-06-26 19:51:39.347 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/ApplyToJoinTeamApi?teamId=1  
2019-06-26 19:51:39.362 +08:00 [INF] Successfully validated the token.
2019-06-26 19:51:39.368 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team)'
2019-06-26 19:51:39.378 +08:00 [INF] Route matched with {action = "ApplyToJoinTeamApiAsync", controller = "RunTeam"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApplyToJoinTeamApiAsync(Int32) on controller Team.Controllers.RunTeamController (Team).
2019-06-26 19:51:39.391 +08:00 [INF] Authorization was successful.
2019-06-26 19:51:39.394 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 19:51:39.429 +08:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 19:51:39.480 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team) - Validation state: "Valid"
2019-06-26 19:51:39.533 +08:00 [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 19:51:39.571 +08:00 [INF] Executed DbCommand (26ms) [Parameters=[@__teamId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [x].[Id], [x].[ApplicationDate], [x].[Name], [x].[RunTeamId], [x].[Sex], [x].[UserId]
FROM [RunApplicants] AS [x]
WHERE [x].[RunTeamId] = @__teamId_0
2019-06-26 19:51:47.103 +08:00 [INF] Executed DbCommand (164ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RunApplicants] ([ApplicationDate], [Name], [RunTeamId], [Sex], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [RunApplicants]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2019-06-26 19:51:47.125 +08:00 [ERR] 用户 2 申请加入 1 战队
2019-06-26 19:51:47.128 +08:00 [INF] Executed action method Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 7645.0183000000006ms.
2019-06-26 19:51:47.130 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 19:51:47.132 +08:00 [INF] Executed action Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team) in 7750.4464000000007ms
2019-06-26 19:51:47.134 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team)'
2019-06-26 19:51:47.139 +08:00 [INF] Request finished in 7791.6727ms 201 application/json; charset=utf-8
2019-06-26 19:51:53.423 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2019-06-26 19:51:53.426 +08:00 [INF] Request finished in 3.0708ms 200 text/html
2019-06-26 19:51:54.869 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2019-06-26 19:51:54.892 +08:00 [INF] Request finished in 22.3764ms 200 application/json;charset=utf-8
2019-06-26 19:52:00.347 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Login/UserLoginApi application/json-patch+json 49
2019-06-26 19:52:00.351 +08:00 [INF] Executing endpoint 'Team.Controllers.LoginController.UserLoginApi (Team)'
2019-06-26 19:52:00.354 +08:00 [INF] Route matched with {action = "UserLoginApi", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLoginApi(Team.Model.AutoMappers.UserMapper.UserLoginMap) on controller Team.Controllers.LoginController (Team).
2019-06-26 19:52:00.363 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 19:52:00.391 +08:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 19:52:00.414 +08:00 [INF] Executing action method Team.Controllers.LoginController.UserLoginApi (Team) - Validation state: "Valid"
2019-06-26 19:52:00.449 +08:00 [INF] Executed DbCommand (29ms) [Parameters=[@__account_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE ([x].[Account] = @__account_0) AND ([x].[Password] = @__password_1)
2019-06-26 19:52:00.455 +08:00 [INF] 用户 1登陆成功
2019-06-26 19:52:00.455 +08:00 [INF] Executed action method Team.Controllers.LoginController.UserLoginApi (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 37.298700000000004ms.
2019-06-26 19:52:00.457 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 19:52:00.460 +08:00 [INF] Executed action Team.Controllers.LoginController.UserLoginApi (Team) in 98.0901ms
2019-06-26 19:52:00.462 +08:00 [INF] Executed endpoint 'Team.Controllers.LoginController.UserLoginApi (Team)'
2019-06-26 19:52:00.463 +08:00 [INF] Request finished in 116.0923ms 200 application/json; charset=utf-8
2019-06-26 19:52:17.124 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/SearchAllApplicant  
2019-06-26 19:52:17.127 +08:00 [INF] Successfully validated the token.
2019-06-26 19:52:17.133 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.SearchAllApplicant (Team)'
2019-06-26 19:52:17.142 +08:00 [INF] Route matched with {action = "SearchAllApplicant", controller = "RunTeam"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SearchAllApplicant() on controller Team.Controllers.RunTeamController (Team).
2019-06-26 19:52:17.158 +08:00 [INF] Authorization was successful.
2019-06-26 19:52:17.159 +08:00 [INF] Authorization was successful.
2019-06-26 19:52:17.161 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 19:52:17.195 +08:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 19:52:17.221 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.SearchAllApplicant (Team) - Validation state: "Valid"
2019-06-26 19:52:17.256 +08:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 19:52:17.289 +08:00 [INF] Executed DbCommand (26ms) [Parameters=[@__teamId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [x].[Id], [x].[ApplicationDate], [x].[Name], [x].[RunTeamId], [x].[Sex], [x].[UserId]
FROM [RunApplicants] AS [x]
WHERE [x].[RunTeamId] = @__teamId_0
2019-06-26 19:52:17.310 +08:00 [INF] 用户 1 查询 1 队伍申请者成功
2019-06-26 19:52:17.314 +08:00 [INF] Executed action method Team.Controllers.RunTeamController.SearchAllApplicant (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 89.4243ms.
2019-06-26 19:52:17.324 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 19:52:17.331 +08:00 [INF] Executed action Team.Controllers.RunTeamController.SearchAllApplicant (Team) in 173.64610000000002ms
2019-06-26 19:52:17.336 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.SearchAllApplicant (Team)'
2019-06-26 19:52:17.338 +08:00 [INF] Request finished in 213.3559ms 200 application/json; charset=utf-8
2019-06-26 19:52:39.595 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/AgreeWithTheTeamApi?userId=2  
2019-06-26 19:52:39.599 +08:00 [INF] Successfully validated the token.
2019-06-26 19:52:39.602 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.AgreeWithTheTeamApi (Team)'
2019-06-26 19:52:39.609 +08:00 [INF] Route matched with {action = "AgreeWithTheTeamApi", controller = "RunTeam"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AgreeWithTheTeamApi(Int32) on controller Team.Controllers.RunTeamController (Team).
2019-06-26 19:52:39.620 +08:00 [INF] Authorization was successful.
2019-06-26 19:52:39.621 +08:00 [INF] Authorization was successful.
2019-06-26 19:52:39.623 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 19:52:39.653 +08:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 19:52:39.675 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.AgreeWithTheTeamApi (Team) - Validation state: "Valid"
2019-06-26 19:52:39.714 +08:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 19:52:39.744 +08:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 19:52:39.783 +08:00 [INF] Executed DbCommand (27ms) [Parameters=[@__UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[ApplicationDate], [x].[Name], [x].[RunTeamId], [x].[Sex], [x].[UserId]
FROM [RunApplicants] AS [x]
WHERE [x].[UserId] = @__UserId_0
2019-06-26 19:52:39.837 +08:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Team.Infrastructure.DbContext.MyContext'.
System.InvalidOperationException: Sequence contains more than one element
   at System.Linq.Enumerable.SingleOrDefault[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
System.InvalidOperationException: Sequence contains more than one element
   at System.Linq.Enumerable.SingleOrDefault[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
2019-06-26 19:52:39.847 +08:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Team.Infrastructure.DbContext.MyContext'.
System.InvalidOperationException: Sequence contains more than one element
   at System.Linq.Enumerable.SingleOrDefault[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
System.InvalidOperationException: Sequence contains more than one element
   at System.Linq.Enumerable.SingleOrDefault[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
2019-06-26 19:52:39.927 +08:00 [INF] Executed action Team.Controllers.RunTeamController.AgreeWithTheTeamApi (Team) in 306.985ms
2019-06-26 19:52:39.932 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.AgreeWithTheTeamApi (Team)'
2019-06-26 19:52:39.935 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Sequence contains more than one element
   at System.Linq.Enumerable.SingleOrDefault[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at System.Linq.Queryable.SingleOrDefault[TSource](IQueryable`1 source, Expression`1 predicate)
   at Team.Infrastructure.Repositories.RunTeamResource.SearchByIdApplicant(Int32 UserId) in D:\Microsoft VS2017\Word\.net core API\Team\Team.Infrastructure\Repositories\RunTeamResource.cs:line 161
   at Team.Controllers.RunTeamController.AgreeWithTheTeamApi(Int32 userId) in D:\Microsoft VS2017\Word\.net core API\Team\Team\Controllers\RunTeamController.cs:line 470
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-26 19:52:40.040 +08:00 [INF] Request finished in 444.3947ms 500 text/html; charset=utf-8
2019-06-26 19:58:31.782 +08:00 [INF] User profile is available. Using 'C:\Users\10456\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-06-26 19:58:33.394 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2019-06-26 19:58:33.609 +08:00 [INF] Request finished in 216.3645ms 200 text/html
2019-06-26 19:58:34.423 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2019-06-26 19:58:34.636 +08:00 [INF] Request finished in 213.1945ms 200 application/json;charset=utf-8
2019-06-26 19:59:02.855 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Login/UserLoginApi application/json-patch+json 50
2019-06-26 19:59:02.946 +08:00 [INF] Executing endpoint 'Team.Controllers.LoginController.UserLoginApi (Team)'
2019-06-26 19:59:02.971 +08:00 [INF] Route matched with {action = "UserLoginApi", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLoginApi(Team.Model.AutoMappers.UserMapper.UserLoginMap) on controller Team.Controllers.LoginController (Team).
2019-06-26 19:59:03.314 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 19:59:03.792 +08:00 [INF] Executed DbCommand (355ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 19:59:04.213 +08:00 [INF] Executing action method Team.Controllers.LoginController.UserLoginApi (Team) - Validation state: "Valid"
2019-06-26 19:59:04.546 +08:00 [INF] Executed DbCommand (210ms) [Parameters=[@__account_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE ([x].[Account] = @__account_0) AND ([x].[Password] = @__password_1)
2019-06-26 19:59:04.620 +08:00 [INF] 用户 2登陆成功
2019-06-26 19:59:04.626 +08:00 [INF] Executed action method Team.Controllers.LoginController.UserLoginApi (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 406.8346ms.
2019-06-26 19:59:04.639 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 19:59:04.652 +08:00 [INF] Executed action Team.Controllers.LoginController.UserLoginApi (Team) in 1675.7277000000001ms
2019-06-26 19:59:04.655 +08:00 [INF] Executed endpoint 'Team.Controllers.LoginController.UserLoginApi (Team)'
2019-06-26 19:59:04.661 +08:00 [INF] Request finished in 1806.0108ms 200 application/json; charset=utf-8
2019-06-26 19:59:24.322 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/ApplyToJoinTeamApi?teamId=1  
2019-06-26 19:59:24.336 +08:00 [INF] Successfully validated the token.
2019-06-26 19:59:24.340 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team)'
2019-06-26 19:59:24.348 +08:00 [INF] Route matched with {action = "ApplyToJoinTeamApiAsync", controller = "RunTeam"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApplyToJoinTeamApiAsync(Int32) on controller Team.Controllers.RunTeamController (Team).
2019-06-26 19:59:24.360 +08:00 [INF] Authorization was successful.
2019-06-26 19:59:24.380 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 19:59:24.429 +08:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 19:59:24.461 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team) - Validation state: "Valid"
2019-06-26 19:59:24.519 +08:00 [INF] Executed DbCommand (39ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 19:59:24.557 +08:00 [INF] Executed DbCommand (26ms) [Parameters=[@__teamId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [x].[Id], [x].[ApplicationDate], [x].[Name], [x].[RunTeamId], [x].[Sex], [x].[UserId]
FROM [RunApplicants] AS [x]
WHERE [x].[RunTeamId] = @__teamId_0
2019-06-26 20:00:06.076 +08:00 [INF] User profile is available. Using 'C:\Users\10456\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-06-26 20:00:07.934 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2019-06-26 20:00:08.138 +08:00 [INF] Request finished in 204.6154ms 200 text/html
2019-06-26 20:00:08.810 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2019-06-26 20:00:08.999 +08:00 [INF] Request finished in 188.8965ms 200 application/json;charset=utf-8
2019-06-26 20:00:25.188 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/ApplyToJoinTeamApi?teamId=1  
2019-06-26 20:00:25.256 +08:00 [INF] Successfully validated the token.
2019-06-26 20:00:25.291 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team)'
2019-06-26 20:00:25.316 +08:00 [INF] Route matched with {action = "ApplyToJoinTeamApiAsync", controller = "RunTeam"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApplyToJoinTeamApiAsync(Int32) on controller Team.Controllers.RunTeamController (Team).
2019-06-26 20:00:25.326 +08:00 [INF] Authorization was successful.
2019-06-26 20:00:25.655 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 20:00:25.944 +08:00 [INF] Executed DbCommand (178ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 20:00:26.280 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team) - Validation state: "Valid"
2019-06-26 20:00:26.417 +08:00 [INF] Executed DbCommand (42ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 20:00:26.500 +08:00 [INF] Executed DbCommand (27ms) [Parameters=[@__teamId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [x].[Id], [x].[ApplicationDate], [x].[Name], [x].[RunTeamId], [x].[Sex], [x].[UserId]
FROM [RunApplicants] AS [x]
WHERE [x].[RunTeamId] = @__teamId_0
2019-06-26 20:00:36.024 +08:00 [INF] 用户 2 申请加入 1 战队失败,已经申请
2019-06-26 20:00:36.029 +08:00 [INF] Executed action method Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 9743.3752ms.
2019-06-26 20:00:36.040 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 20:00:36.052 +08:00 [INF] Executed action Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team) in 10732.590100000001ms
2019-06-26 20:00:36.057 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team)'
2019-06-26 20:00:36.059 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Writing to the response body is invalid for responses with status code 204.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowWritingToResponseBodyNotSupported()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.WriteAsync(ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseStream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count, CancellationToken cancellationToken)
   at System.IO.Stream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count)
   at Microsoft.AspNetCore.WebUtilities.HttpResponseStreamWriter.FlushInternalAsync(Boolean flushEncoder)
   at Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-26 20:00:36.126 +08:00 [WRN] The response has already started, the error page middleware will not be executed.
2019-06-26 20:00:36.127 +08:00 [ERR] Connection id "0HLNQ5NAB5LTD", Request id "0HLNQ5NAB5LTD:00000003": An unhandled exception was thrown by the application.
System.InvalidOperationException: Writing to the response body is invalid for responses with status code 204.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowWritingToResponseBodyNotSupported()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.WriteAsync(ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseStream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count, CancellationToken cancellationToken)
   at System.IO.Stream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count)
   at Microsoft.AspNetCore.WebUtilities.HttpResponseStreamWriter.FlushInternalAsync(Boolean flushEncoder)
   at Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2019-06-26 20:00:36.141 +08:00 [INF] Request finished in 10952.7821ms 204 application/json; charset=utf-8
2019-06-26 20:54:45.748 +08:00 [INF] User profile is available. Using 'C:\Users\10456\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-06-26 20:54:53.016 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2019-06-26 20:54:53.402 +08:00 [INF] Request finished in 390.1944ms 200 text/html
2019-06-26 20:54:54.697 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2019-06-26 20:54:55.197 +08:00 [INF] Request finished in 499.6299ms 200 application/json;charset=utf-8
2019-06-26 20:55:36.523 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Login/UserRegisteredApi application/json-patch+json 145
2019-06-26 20:55:36.647 +08:00 [INF] Executing endpoint 'Team.Controllers.LoginController.UserRegisteredApi (Team)'
2019-06-26 20:55:36.778 +08:00 [INF] Route matched with {action = "UserRegisteredApi", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserRegisteredApi(Team.Model.AutoMappers.UserMapper.UserRegisteredMap) on controller Team.Controllers.LoginController (Team).
2019-06-26 20:55:37.287 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 20:55:38.602 +08:00 [INF] Executed DbCommand (716ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 20:55:39.070 +08:00 [INF] Executing action method Team.Controllers.LoginController.UserRegisteredApi (Team) - Validation state: "Valid"
2019-06-26 20:55:39.534 +08:00 [INF] Executed DbCommand (332ms) [Parameters=[@__account_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Account] = @__account_0
2019-06-26 20:55:40.039 +08:00 [INF] Executed DbCommand (299ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Account], [Name], [Password], [Province], [Role], [RunTeamId], [Sex], [StudentId], [UniversityId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [Users]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2019-06-26 20:55:40.092 +08:00 [INF] Executed DbCommand (41ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Double), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [LatitudeAndLongitudes] ([Latitude], [Longitude], [Name], [Phone], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [LatitudeAndLongitudes]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2019-06-26 20:55:40.121 +08:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?' (DbType = Single), @p1='?' (DbType = Single), @p2='?' (DbType = Single), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Statisticals] ([AllTime], [Calories], [Distance], [SportFreeModel], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Statisticals]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2019-06-26 20:55:40.142 +08:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = Single), @p1='?' (DbType = Single), @p2='?' (DbType = Single), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Statisticals] ([AllTime], [Calories], [Distance], [SportFreeModel], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Statisticals]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2019-06-26 20:55:40.184 +08:00 [INF] string2 注册成功
2019-06-26 20:55:40.191 +08:00 [INF] Executed action method Team.Controllers.LoginController.UserRegisteredApi (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1115.3421ms.
2019-06-26 20:55:40.207 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 20:55:40.224 +08:00 [INF] Executed action Team.Controllers.LoginController.UserRegisteredApi (Team) in 3438.724ms
2019-06-26 20:55:40.229 +08:00 [INF] Executed endpoint 'Team.Controllers.LoginController.UserRegisteredApi (Team)'
2019-06-26 20:55:40.237 +08:00 [INF] Request finished in 3713.8721ms 200 application/json; charset=utf-8
2019-06-26 20:56:07.989 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/RunTeam/RunTeamCreateApi application/json-patch+json 51
2019-06-26 20:56:08.015 +08:00 [INF] Successfully validated the token.
2019-06-26 20:56:08.019 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.RunTeamCreateApiAsync (Team)'
2019-06-26 20:56:08.024 +08:00 [INF] Route matched with {action = "RunTeamCreateApiAsync", controller = "RunTeam"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RunTeamCreateApiAsync(Team.Model.AutoMappers.RunTeamMapper.RunTeamCreateMap) on controller Team.Controllers.RunTeamController (Team).
2019-06-26 20:56:08.040 +08:00 [INF] Authorization was successful.
2019-06-26 20:56:08.058 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 20:56:08.293 +08:00 [INF] Executed DbCommand (191ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 20:56:08.319 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.RunTeamCreateApiAsync (Team) - Validation state: "Valid"
2019-06-26 20:56:08.405 +08:00 [INF] Executed DbCommand (63ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 20:56:08.517 +08:00 [INF] Executed DbCommand (37ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RunTeams] ([ApplicationStatus], [Count], [CreationTime], [Introduction], [Name], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [RunTeams]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2019-06-26 20:56:08.552 +08:00 [INF] Executed DbCommand (27ms) [Parameters=[@p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RunParticipantses] ([ApplicationDate], [Name], [RunTeamId], [Sex], [UserId])
VALUES (@p6, @p7, @p8, @p9, @p10);
SELECT [Id]
FROM [RunParticipantses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2019-06-26 20:56:08.564 +08:00 [INF] 用户 5 创建跑步队伍成功
2019-06-26 20:56:08.566 +08:00 [INF] Executed action method Team.Controllers.RunTeamController.RunTeamCreateApiAsync (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 244.4285ms.
2019-06-26 20:56:08.569 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 20:56:08.570 +08:00 [INF] Executed action Team.Controllers.RunTeamController.RunTeamCreateApiAsync (Team) in 537.5834ms
2019-06-26 20:56:08.574 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.RunTeamCreateApiAsync (Team)'
2019-06-26 20:56:08.578 +08:00 [INF] Request finished in 588.8447ms 201 application/json; charset=utf-8
2019-06-26 20:56:14.377 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/UpdateUserRunTeamId  
2019-06-26 20:56:14.380 +08:00 [INF] Successfully validated the token.
2019-06-26 20:56:14.413 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.UpdateUserRunTeamIdAsync (Team)'
2019-06-26 20:56:14.421 +08:00 [INF] Route matched with {action = "UpdateUserRunTeamIdAsync", controller = "RunTeam"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserRunTeamIdAsync() on controller Team.Controllers.RunTeamController (Team).
2019-06-26 20:56:14.427 +08:00 [INF] Authorization was successful.
2019-06-26 20:56:14.430 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 20:56:14.483 +08:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 20:56:14.503 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.UpdateUserRunTeamIdAsync (Team) - Validation state: "Valid"
2019-06-26 20:56:14.535 +08:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 20:56:14.553 +08:00 [WRN] Query: '(from User user in DbSet<User> join RunTeam team in DbSet<RunTeam> on [user].Id equals [team].UserId...' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-06-26 20:56:14.708 +08:00 [INF] Executed DbCommand (131ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [team].[Id]
FROM [Users] AS [user]
INNER JOIN [RunTeams] AS [team] ON [user].[Id] = [team].[UserId]
2019-06-26 20:56:14.863 +08:00 [INF] Executed DbCommand (146ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [Account] = @p0, [Name] = @p1, [Password] = @p2, [Province] = @p3, [Role] = @p4, [RunTeamId] = @p5, [Sex] = @p6, [StudentId] = @p7, [UniversityId] = @p8
WHERE [Id] = @p9;
SELECT @@ROWCOUNT;
2019-06-26 20:56:14.870 +08:00 [INF] 用户 5 修改自己跑步队伍 Id 成功
2019-06-26 20:56:14.870 +08:00 [INF] Executed action method Team.Controllers.RunTeamController.UpdateUserRunTeamIdAsync (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 365.9311ms.
2019-06-26 20:56:14.874 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 20:56:14.876 +08:00 [INF] Executed action Team.Controllers.RunTeamController.UpdateUserRunTeamIdAsync (Team) in 450.44190000000003ms
2019-06-26 20:56:14.880 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.UpdateUserRunTeamIdAsync (Team)'
2019-06-26 20:56:14.882 +08:00 [INF] Request finished in 504.995ms 200 application/json; charset=utf-8
2019-06-26 20:57:24.088 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/UpdateUserRunTeamId  
2019-06-26 20:57:24.091 +08:00 [INF] Successfully validated the token.
2019-06-26 20:57:24.093 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.UpdateUserRunTeamIdAsync (Team)'
2019-06-26 20:57:24.095 +08:00 [INF] Route matched with {action = "UpdateUserRunTeamIdAsync", controller = "RunTeam"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserRunTeamIdAsync() on controller Team.Controllers.RunTeamController (Team).
2019-06-26 20:57:24.097 +08:00 [INF] Authorization was successful.
2019-06-26 20:57:24.101 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 20:57:24.134 +08:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 20:57:24.165 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.UpdateUserRunTeamIdAsync (Team) - Validation state: "Valid"
2019-06-26 20:57:24.196 +08:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 20:57:35.784 +08:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [team].[Id]
FROM [Users] AS [user]
INNER JOIN [RunTeams] AS [team] ON [user].[Id] = [team].[UserId]
2019-06-26 20:57:45.824 +08:00 [INF] Executed DbCommand (122ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [team].[Id]
FROM [Users] AS [user]
INNER JOIN [RunTeams] AS [team] ON [user].[Id] = [team].[UserId]
2019-06-26 20:58:47.386 +08:00 [INF] User profile is available. Using 'C:\Users\10456\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-06-26 20:58:49.077 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2019-06-26 20:58:49.313 +08:00 [INF] Request finished in 237.6156ms 200 text/html
2019-06-26 20:58:49.978 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2019-06-26 20:58:50.188 +08:00 [INF] Request finished in 209.8437ms 200 application/json;charset=utf-8
2019-06-26 20:59:00.022 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/UpdateUserRunTeamId  
2019-06-26 20:59:00.086 +08:00 [INF] Successfully validated the token.
2019-06-26 20:59:00.128 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.UpdateUserRunTeamIdAsync (Team)'
2019-06-26 20:59:00.148 +08:00 [INF] Route matched with {action = "UpdateUserRunTeamIdAsync", controller = "RunTeam"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserRunTeamIdAsync() on controller Team.Controllers.RunTeamController (Team).
2019-06-26 20:59:00.161 +08:00 [INF] Authorization was successful.
2019-06-26 20:59:00.505 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 20:59:00.742 +08:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 20:59:01.091 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.UpdateUserRunTeamIdAsync (Team) - Validation state: "Valid"
2019-06-26 20:59:01.242 +08:00 [INF] Executed DbCommand (41ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 20:59:01.453 +08:00 [INF] Executed DbCommand (134ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [team].[Id]
FROM [Users] AS [user]
INNER JOIN [RunTeams] AS [team] ON [user].[Id] = [team].[UserId]
WHERE [user].[Id] = @__userId_0
2019-06-26 20:59:01.840 +08:00 [INF] Executed DbCommand (312ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [Account] = @p0, [Name] = @p1, [Password] = @p2, [Province] = @p3, [Role] = @p4, [RunTeamId] = @p5, [Sex] = @p6, [StudentId] = @p7, [UniversityId] = @p8
WHERE [Id] = @p9;
SELECT @@ROWCOUNT;
2019-06-26 20:59:01.858 +08:00 [INF] 用户 5 修改自己跑步队伍 Id 成功
2019-06-26 20:59:01.864 +08:00 [INF] Executed action method Team.Controllers.RunTeamController.UpdateUserRunTeamIdAsync (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 768.7584ms.
2019-06-26 20:59:01.879 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 20:59:01.893 +08:00 [INF] Executed action Team.Controllers.RunTeamController.UpdateUserRunTeamIdAsync (Team) in 1739.6608ms
2019-06-26 20:59:01.896 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.UpdateUserRunTeamIdAsync (Team)'
2019-06-26 20:59:01.903 +08:00 [INF] Request finished in 1880.3999ms 200 application/json; charset=utf-8
2019-06-26 21:02:09.541 +08:00 [INF] User profile is available. Using 'C:\Users\10456\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-06-26 21:02:11.057 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2019-06-26 21:02:11.227 +08:00 [INF] Request finished in 171.2161ms 200 text/html
2019-06-26 21:02:11.872 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2019-06-26 21:02:12.061 +08:00 [INF] Request finished in 189.7859ms 200 application/json;charset=utf-8
2019-06-26 21:02:29.326 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Login/UserLoginApi application/json-patch+json 50
2019-06-26 21:02:29.408 +08:00 [INF] Executing endpoint 'Team.Controllers.LoginController.UserLoginApi (Team)'
2019-06-26 21:02:29.436 +08:00 [INF] Route matched with {action = "UserLoginApi", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLoginApi(Team.Model.AutoMappers.UserMapper.UserLoginMap) on controller Team.Controllers.LoginController (Team).
2019-06-26 21:02:29.752 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 21:02:29.969 +08:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 21:02:30.382 +08:00 [INF] Executing action method Team.Controllers.LoginController.UserLoginApi (Team) - Validation state: "Valid"
2019-06-26 21:02:30.569 +08:00 [INF] Executed DbCommand (82ms) [Parameters=[@__account_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE ([x].[Account] = @__account_0) AND ([x].[Password] = @__password_1)
2019-06-26 21:02:30.649 +08:00 [INF] 用户 5登陆成功
2019-06-26 21:02:30.654 +08:00 [INF] Executed action method Team.Controllers.LoginController.UserLoginApi (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 267.4762ms.
2019-06-26 21:02:30.669 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 21:02:30.682 +08:00 [INF] Executed action Team.Controllers.LoginController.UserLoginApi (Team) in 1240.759ms
2019-06-26 21:02:30.686 +08:00 [INF] Executed endpoint 'Team.Controllers.LoginController.UserLoginApi (Team)'
2019-06-26 21:02:30.693 +08:00 [INF] Request finished in 1367.6465ms 200 application/json; charset=utf-8
2019-06-26 21:02:56.204 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/ApplyToJoinTeamApi?teamId=1  
2019-06-26 21:02:56.219 +08:00 [INF] Successfully validated the token.
2019-06-26 21:02:56.226 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team)'
2019-06-26 21:02:56.235 +08:00 [INF] Route matched with {action = "ApplyToJoinTeamApiAsync", controller = "RunTeam"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApplyToJoinTeamApiAsync(Int32) on controller Team.Controllers.RunTeamController (Team).
2019-06-26 21:02:56.248 +08:00 [INF] Authorization was successful.
2019-06-26 21:02:56.252 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 21:02:56.352 +08:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 21:02:56.393 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team) - Validation state: "Valid"
2019-06-26 21:02:56.480 +08:00 [INF] Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 21:02:56.485 +08:00 [INF] 用户 5 申请加入 1 战队失败，已加入队伍
2019-06-26 21:02:56.486 +08:00 [INF] Executed action method Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 89.9741ms.
2019-06-26 21:02:56.488 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 21:02:56.496 +08:00 [INF] Executed action Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team) in 258.3628ms
2019-06-26 21:02:56.498 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team)'
2019-06-26 21:02:56.500 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Writing to the response body is invalid for responses with status code 204.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowWritingToResponseBodyNotSupported()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.WriteAsync(ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseStream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count, CancellationToken cancellationToken)
   at System.IO.Stream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count)
   at Microsoft.AspNetCore.WebUtilities.HttpResponseStreamWriter.FlushInternalAsync(Boolean flushEncoder)
   at Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-26 21:02:56.617 +08:00 [WRN] The response has already started, the error page middleware will not be executed.
2019-06-26 21:02:56.620 +08:00 [ERR] Connection id "0HLNQ6PVVD14O", Request id "0HLNQ6PVVD14O:00000004": An unhandled exception was thrown by the application.
System.InvalidOperationException: Writing to the response body is invalid for responses with status code 204.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowWritingToResponseBodyNotSupported()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.WriteAsync(ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseStream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count, CancellationToken cancellationToken)
   at System.IO.Stream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count)
   at Microsoft.AspNetCore.WebUtilities.HttpResponseStreamWriter.FlushInternalAsync(Boolean flushEncoder)
   at Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2019-06-26 21:02:56.645 +08:00 [INF] Request finished in 441.0918ms 204 application/json; charset=utf-8
2019-06-26 21:03:09.212 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/ApplyToJoinTeamApi?teamId=1  
2019-06-26 21:03:09.215 +08:00 [INF] Successfully validated the token.
2019-06-26 21:03:09.221 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team)'
2019-06-26 21:03:09.224 +08:00 [INF] Route matched with {action = "ApplyToJoinTeamApiAsync", controller = "RunTeam"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApplyToJoinTeamApiAsync(Int32) on controller Team.Controllers.RunTeamController (Team).
2019-06-26 21:03:09.227 +08:00 [INF] Authorization was successful.
2019-06-26 21:03:09.230 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 21:03:09.262 +08:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 21:03:09.287 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team) - Validation state: "Valid"
2019-06-26 21:03:09.343 +08:00 [INF] Executed DbCommand (49ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 21:03:09.349 +08:00 [INF] 用户 5 申请加入 1 战队失败，已加入队伍
2019-06-26 21:03:09.350 +08:00 [INF] Executed action method Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 58.083200000000005ms.
2019-06-26 21:03:09.352 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 21:03:09.364 +08:00 [INF] Executed action Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team) in 137.2915ms
2019-06-26 21:03:09.368 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team)'
2019-06-26 21:03:09.371 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Writing to the response body is invalid for responses with status code 204.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowWritingToResponseBodyNotSupported()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.WriteAsync(ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseStream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count, CancellationToken cancellationToken)
   at System.IO.Stream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count)
   at Microsoft.AspNetCore.WebUtilities.HttpResponseStreamWriter.FlushInternalAsync(Boolean flushEncoder)
   at Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-26 21:03:09.409 +08:00 [WRN] The response has already started, the error page middleware will not be executed.
2019-06-26 21:03:09.410 +08:00 [ERR] Connection id "0HLNQ6PVVD14Q", Request id "0HLNQ6PVVD14Q:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: Writing to the response body is invalid for responses with status code 204.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowWritingToResponseBodyNotSupported()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.WriteAsync(ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseStream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count, CancellationToken cancellationToken)
   at System.IO.Stream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count)
   at Microsoft.AspNetCore.WebUtilities.HttpResponseStreamWriter.FlushInternalAsync(Boolean flushEncoder)
   at Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2019-06-26 21:03:09.442 +08:00 [INF] Request finished in 229.8699ms 204 application/json; charset=utf-8
2019-06-26 21:03:55.384 +08:00 [INF] User profile is available. Using 'C:\Users\10456\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-06-26 21:03:56.873 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2019-06-26 21:03:57.041 +08:00 [INF] Request finished in 169.813ms 200 text/html
2019-06-26 21:03:57.661 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2019-06-26 21:03:57.848 +08:00 [INF] Request finished in 187.0477ms 200 application/json;charset=utf-8
2019-06-26 21:04:23.356 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/ApplyToJoinTeamApi?teamId=1  
2019-06-26 21:04:23.421 +08:00 [INF] Successfully validated the token.
2019-06-26 21:04:23.457 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team)'
2019-06-26 21:04:23.481 +08:00 [INF] Route matched with {action = "ApplyToJoinTeamApiAsync", controller = "RunTeam"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApplyToJoinTeamApiAsync(Int32) on controller Team.Controllers.RunTeamController (Team).
2019-06-26 21:04:23.492 +08:00 [INF] Authorization was successful.
2019-06-26 21:04:23.841 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 21:04:24.042 +08:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 21:04:24.372 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team) - Validation state: "Valid"
2019-06-26 21:04:24.503 +08:00 [INF] Executed DbCommand (41ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 21:04:24.561 +08:00 [INF] 用户 5 申请加入 1 战队失败，已加入队伍
2019-06-26 21:04:24.570 +08:00 [INF] Executed action method Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 192.97920000000002ms.
2019-06-26 21:04:24.584 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 21:04:24.593 +08:00 [INF] Executed action Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team) in 1106.7032000000002ms
2019-06-26 21:04:24.597 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team)'
2019-06-26 21:04:24.604 +08:00 [INF] Request finished in 1247.4438ms 200 application/json; charset=utf-8
2019-06-26 21:45:44.729 +08:00 [INF] User profile is available. Using 'C:\Users\10456\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-06-26 21:45:46.283 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2019-06-26 21:45:46.536 +08:00 [INF] Request finished in 258.9043ms 200 text/html
2019-06-26 21:45:47.403 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2019-06-26 21:45:47.556 +08:00 [INF] Request finished in 152.3385ms 200 application/json;charset=utf-8
2019-06-26 21:46:04.169 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Login/UserLoginApi application/json-patch+json 50
2019-06-26 21:46:04.275 +08:00 [INF] Executing endpoint 'Team.Controllers.LoginController.UserLoginApi (Team)'
2019-06-26 21:46:04.417 +08:00 [INF] Route matched with {action = "UserLoginApi", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLoginApi(Team.Model.AutoMappers.UserMapper.UserLoginMap) on controller Team.Controllers.LoginController (Team).
2019-06-26 21:46:04.770 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 21:46:05.068 +08:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 21:46:05.514 +08:00 [INF] Executing action method Team.Controllers.LoginController.UserLoginApi (Team) - Validation state: "Valid"
2019-06-26 21:46:05.749 +08:00 [INF] Executed DbCommand (56ms) [Parameters=[@__account_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE ([x].[Account] = @__account_0) AND ([x].[Password] = @__password_1)
2019-06-26 21:46:05.841 +08:00 [INF] 用户 5登陆成功
2019-06-26 21:46:05.848 +08:00 [INF] Executed action method Team.Controllers.LoginController.UserLoginApi (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 330.0432ms.
2019-06-26 21:46:05.861 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 21:46:05.873 +08:00 [INF] Executed action Team.Controllers.LoginController.UserLoginApi (Team) in 1451.2686ms
2019-06-26 21:46:05.875 +08:00 [INF] Executed endpoint 'Team.Controllers.LoginController.UserLoginApi (Team)'
2019-06-26 21:46:05.884 +08:00 [INF] Request finished in 1714.8093ms 200 application/json; charset=utf-8
2019-06-26 21:46:23.919 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/ApplyToJoinTeamApi?teamId=1  
2019-06-26 21:46:23.934 +08:00 [INF] Successfully validated the token.
2019-06-26 21:46:23.938 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team)'
2019-06-26 21:46:23.946 +08:00 [INF] Route matched with {action = "ApplyToJoinTeamApiAsync", controller = "RunTeam"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApplyToJoinTeamApiAsync(Int32) on controller Team.Controllers.RunTeamController (Team).
2019-06-26 21:46:23.959 +08:00 [INF] Authorization was successful.
2019-06-26 21:46:23.965 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 21:46:24.002 +08:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 21:46:24.034 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team) - Validation state: "Valid"
2019-06-26 21:46:24.096 +08:00 [INF] Executed DbCommand (40ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 21:46:24.102 +08:00 [INF] 用户 5 申请加入 1 战队失败，已加入队伍
2019-06-26 21:46:24.103 +08:00 [INF] Executed action method Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 65.8276ms.
2019-06-26 21:46:24.105 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 21:46:24.108 +08:00 [INF] Executed action Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team) in 157.3492ms
2019-06-26 21:46:24.112 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team)'
2019-06-26 21:46:24.114 +08:00 [INF] Request finished in 195.566ms 200 application/json; charset=utf-8
2019-06-26 21:46:49.603 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Login/UserLoginApi application/json-patch+json 50
2019-06-26 21:46:49.606 +08:00 [INF] Successfully validated the token.
2019-06-26 21:46:49.611 +08:00 [INF] Executing endpoint 'Team.Controllers.LoginController.UserLoginApi (Team)'
2019-06-26 21:46:49.614 +08:00 [INF] Route matched with {action = "UserLoginApi", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLoginApi(Team.Model.AutoMappers.UserMapper.UserLoginMap) on controller Team.Controllers.LoginController (Team).
2019-06-26 21:46:49.619 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 21:46:49.659 +08:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 21:46:49.683 +08:00 [INF] Executing action method Team.Controllers.LoginController.UserLoginApi (Team) - Validation state: "Valid"
2019-06-26 21:46:49.728 +08:00 [INF] Executed DbCommand (41ms) [Parameters=[@__account_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE ([x].[Account] = @__account_0) AND ([x].[Password] = @__password_1)
2019-06-26 21:46:49.732 +08:00 [INF] 用户 3登陆成功
2019-06-26 21:46:49.733 +08:00 [INF] Executed action method Team.Controllers.LoginController.UserLoginApi (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 47.836800000000004ms.
2019-06-26 21:46:49.735 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 21:46:49.740 +08:00 [INF] Executed action Team.Controllers.LoginController.UserLoginApi (Team) in 121.11840000000001ms
2019-06-26 21:46:49.742 +08:00 [INF] Executed endpoint 'Team.Controllers.LoginController.UserLoginApi (Team)'
2019-06-26 21:46:49.743 +08:00 [INF] Request finished in 140.746ms 200 application/json; charset=utf-8
2019-06-26 21:47:00.535 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/ApplyToJoinTeamApi?teamId=1  
2019-06-26 21:47:00.538 +08:00 [INF] Successfully validated the token.
2019-06-26 21:47:00.544 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team)'
2019-06-26 21:47:00.547 +08:00 [INF] Route matched with {action = "ApplyToJoinTeamApiAsync", controller = "RunTeam"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApplyToJoinTeamApiAsync(Int32) on controller Team.Controllers.RunTeamController (Team).
2019-06-26 21:47:00.550 +08:00 [INF] Authorization was successful.
2019-06-26 21:47:00.551 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 21:47:00.587 +08:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 21:47:00.612 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team) - Validation state: "Valid"
2019-06-26 21:47:00.638 +08:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 21:47:00.823 +08:00 [INF] Executed DbCommand (172ms) [Parameters=[@__teamId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [x].[Id], [x].[ApplicationDate], [x].[Name], [x].[RunTeamId], [x].[Sex], [x].[UserId]
FROM [RunApplicants] AS [x]
WHERE [x].[RunTeamId] = @__teamId_0
2019-06-26 21:47:01.008 +08:00 [INF] Executed DbCommand (94ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RunApplicants] ([ApplicationDate], [Name], [RunTeamId], [Sex], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [RunApplicants]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2019-06-26 21:47:01.033 +08:00 [ERR] 用户 3 申请加入 1 战队
2019-06-26 21:47:01.035 +08:00 [INF] Executed action method Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 420.8587ms.
2019-06-26 21:47:01.041 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 21:47:01.044 +08:00 [INF] Executed action Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team) in 494.43850000000003ms
2019-06-26 21:47:01.046 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team)'
2019-06-26 21:47:01.048 +08:00 [INF] Request finished in 513.4164ms 201 application/json; charset=utf-8
2019-06-26 21:47:08.883 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2019-06-26 21:47:08.886 +08:00 [INF] Request finished in 2.4874ms 200 text/html
2019-06-26 21:47:10.287 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2019-06-26 21:47:10.315 +08:00 [INF] Request finished in 27.2251ms 200 application/json;charset=utf-8
2019-06-26 21:47:13.919 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/ApplyToJoinTeamApi?teamId=1  
2019-06-26 21:47:13.922 +08:00 [INF] Successfully validated the token.
2019-06-26 21:47:13.923 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team)'
2019-06-26 21:47:13.924 +08:00 [INF] Route matched with {action = "ApplyToJoinTeamApiAsync", controller = "RunTeam"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApplyToJoinTeamApiAsync(Int32) on controller Team.Controllers.RunTeamController (Team).
2019-06-26 21:47:13.928 +08:00 [INF] Authorization was successful.
2019-06-26 21:47:13.932 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 21:47:13.973 +08:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 21:47:13.998 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team) - Validation state: "Valid"
2019-06-26 21:47:14.029 +08:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 21:47:14.059 +08:00 [INF] Executed DbCommand (23ms) [Parameters=[@__teamId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [x].[Id], [x].[ApplicationDate], [x].[Name], [x].[RunTeamId], [x].[Sex], [x].[UserId]
FROM [RunApplicants] AS [x]
WHERE [x].[RunTeamId] = @__teamId_0
2019-06-26 21:47:14.065 +08:00 [INF] 用户 3 申请加入 1 战队失败,已经申请
2019-06-26 21:47:14.067 +08:00 [INF] Executed action method Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 63.6833ms.
2019-06-26 21:47:14.073 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 21:47:14.075 +08:00 [INF] Executed action Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team) in 147.85580000000002ms
2019-06-26 21:47:14.077 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.ApplyToJoinTeamApiAsync (Team)'
2019-06-26 21:47:14.079 +08:00 [INF] Request finished in 159.9438ms 200 application/json; charset=utf-8
2019-06-26 21:47:22.654 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Login/UserLoginApi application/json-patch+json 49
2019-06-26 21:47:22.657 +08:00 [INF] Executing endpoint 'Team.Controllers.LoginController.UserLoginApi (Team)'
2019-06-26 21:47:22.660 +08:00 [INF] Route matched with {action = "UserLoginApi", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLoginApi(Team.Model.AutoMappers.UserMapper.UserLoginMap) on controller Team.Controllers.LoginController (Team).
2019-06-26 21:47:22.668 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 21:47:22.701 +08:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 21:47:22.730 +08:00 [INF] Executing action method Team.Controllers.LoginController.UserLoginApi (Team) - Validation state: "Valid"
2019-06-26 21:47:22.765 +08:00 [INF] Executed DbCommand (32ms) [Parameters=[@__account_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE ([x].[Account] = @__account_0) AND ([x].[Password] = @__password_1)
2019-06-26 21:47:22.776 +08:00 [INF] 用户 1登陆成功
2019-06-26 21:47:22.777 +08:00 [INF] Executed action method Team.Controllers.LoginController.UserLoginApi (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 45.225100000000005ms.
2019-06-26 21:47:22.779 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 21:47:22.781 +08:00 [INF] Executed action Team.Controllers.LoginController.UserLoginApi (Team) in 113.6709ms
2019-06-26 21:47:22.785 +08:00 [INF] Executed endpoint 'Team.Controllers.LoginController.UserLoginApi (Team)'
2019-06-26 21:47:22.788 +08:00 [INF] Request finished in 133.2749ms 200 application/json; charset=utf-8
2019-06-26 21:47:43.836 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/SearchAllApplicant  
2019-06-26 21:47:43.838 +08:00 [INF] Successfully validated the token.
2019-06-26 21:47:43.840 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.SearchAllApplicant (Team)'
2019-06-26 21:47:43.846 +08:00 [INF] Route matched with {action = "SearchAllApplicant", controller = "RunTeam"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SearchAllApplicant() on controller Team.Controllers.RunTeamController (Team).
2019-06-26 21:47:43.853 +08:00 [INF] Authorization was successful.
2019-06-26 21:47:43.855 +08:00 [INF] Authorization was successful.
2019-06-26 21:47:43.857 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 21:47:43.884 +08:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 21:47:43.908 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.SearchAllApplicant (Team) - Validation state: "Valid"
2019-06-26 21:47:43.940 +08:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 21:47:43.970 +08:00 [INF] Executed DbCommand (26ms) [Parameters=[@__teamId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [x].[Id], [x].[ApplicationDate], [x].[Name], [x].[RunTeamId], [x].[Sex], [x].[UserId]
FROM [RunApplicants] AS [x]
WHERE [x].[RunTeamId] = @__teamId_0
2019-06-26 21:47:43.992 +08:00 [INF] 用户 1 查询 1 队伍申请者成功
2019-06-26 21:47:43.994 +08:00 [INF] Executed action method Team.Controllers.RunTeamController.SearchAllApplicant (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 83.027300000000011ms.
2019-06-26 21:47:43.996 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 21:47:44.002 +08:00 [INF] Executed action Team.Controllers.RunTeamController.SearchAllApplicant (Team) in 149.14100000000002ms
2019-06-26 21:47:44.004 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.SearchAllApplicant (Team)'
2019-06-26 21:47:44.006 +08:00 [INF] Request finished in 170.2629ms 200 application/json; charset=utf-8
2019-06-26 21:48:03.537 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/AgreeWithTheTeamApi?userId=3  
2019-06-26 21:48:03.540 +08:00 [INF] Successfully validated the token.
2019-06-26 21:48:03.541 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.AgreeWithTheTeamApi (Team)'
2019-06-26 21:48:03.547 +08:00 [INF] Route matched with {action = "AgreeWithTheTeamApi", controller = "RunTeam"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AgreeWithTheTeamApi(Int32) on controller Team.Controllers.RunTeamController (Team).
2019-06-26 21:48:03.553 +08:00 [INF] Authorization was successful.
2019-06-26 21:48:03.555 +08:00 [INF] Authorization was successful.
2019-06-26 21:48:03.556 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 21:48:03.585 +08:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 21:48:03.607 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.AgreeWithTheTeamApi (Team) - Validation state: "Valid"
2019-06-26 21:48:03.640 +08:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 21:48:03.672 +08:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 21:48:03.709 +08:00 [INF] Executed DbCommand (27ms) [Parameters=[@__UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[ApplicationDate], [x].[Name], [x].[RunTeamId], [x].[Sex], [x].[UserId]
FROM [RunApplicants] AS [x]
WHERE [x].[UserId] = @__UserId_0
2019-06-26 21:48:03.752 +08:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 21:48:03.895 +08:00 [INF] Executed DbCommand (134ms) [Parameters=[@__participants_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[ApplicationDate], [x].[Name], [x].[RunTeamId], [x].[Sex], [x].[UserId]
FROM [RunApplicants] AS [x]
WHERE [x].[UserId] = @__participants_UserId_0
2019-06-26 21:48:04.224 +08:00 [INF] Executed DbCommand (309ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [RunApplicants]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2019-06-26 21:48:04.304 +08:00 [INF] Executed DbCommand (74ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RunParticipantses] ([ApplicationDate], [Name], [RunTeamId], [Sex], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [RunParticipantses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2019-06-26 21:48:04.328 +08:00 [INF] Executed DbCommand (19ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [RunTeamId] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2019-06-26 21:48:04.364 +08:00 [ERR] 用户 3 申请加入 1 战队成功
2019-06-26 21:48:04.367 +08:00 [INF] Executed action method Team.Controllers.RunTeamController.AgreeWithTheTeamApi (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 756.8822ms.
2019-06-26 21:48:04.370 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 21:48:04.371 +08:00 [INF] Executed action Team.Controllers.RunTeamController.AgreeWithTheTeamApi (Team) in 818.06530000000009ms
2019-06-26 21:48:04.373 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.AgreeWithTheTeamApi (Team)'
2019-06-26 21:48:04.375 +08:00 [INF] Request finished in 838.0897ms 201 application/json; charset=utf-8
2019-06-26 21:48:09.279 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RunTeam/SearchAllApplicant  
2019-06-26 21:48:09.282 +08:00 [INF] Successfully validated the token.
2019-06-26 21:48:09.286 +08:00 [INF] Executing endpoint 'Team.Controllers.RunTeamController.SearchAllApplicant (Team)'
2019-06-26 21:48:09.288 +08:00 [INF] Route matched with {action = "SearchAllApplicant", controller = "RunTeam"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SearchAllApplicant() on controller Team.Controllers.RunTeamController (Team).
2019-06-26 21:48:09.294 +08:00 [INF] Authorization was successful.
2019-06-26 21:48:09.296 +08:00 [INF] Authorization was successful.
2019-06-26 21:48:09.300 +08:00 [INF] Entity Framework Core 2.2.4-servicing-10062 initialized 'MyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-06-26 21:48:09.324 +08:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-06-26 21:48:09.350 +08:00 [INF] Executing action method Team.Controllers.RunTeamController.SearchAllApplicant (Team) - Validation state: "Valid"
2019-06-26 21:48:09.378 +08:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [x].[Id], [x].[Account], [x].[Name], [x].[Password], [x].[Province], [x].[Role], [x].[RunTeamId], [x].[Sex], [x].[StudentId], [x].[UniversityId]
FROM [Users] AS [x]
WHERE [x].[Id] = @__userId_0
2019-06-26 21:48:09.405 +08:00 [INF] Executed DbCommand (21ms) [Parameters=[@__teamId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [x].[Id], [x].[ApplicationDate], [x].[Name], [x].[RunTeamId], [x].[Sex], [x].[UserId]
FROM [RunApplicants] AS [x]
WHERE [x].[RunTeamId] = @__teamId_0
2019-06-26 21:48:09.411 +08:00 [INF] 用户 1 查询 1 队伍申请者成功
2019-06-26 21:48:09.412 +08:00 [INF] Executed action method Team.Controllers.RunTeamController.SearchAllApplicant (Team), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 58.144800000000004ms.
2019-06-26 21:48:09.416 +08:00 [INF] Executing ObjectResult, writing value of type 'Team.Model.CustomStatusCode'.
2019-06-26 21:48:09.417 +08:00 [INF] Executed action Team.Controllers.RunTeamController.SearchAllApplicant (Team) in 123.5438ms
2019-06-26 21:48:09.419 +08:00 [INF] Executed endpoint 'Team.Controllers.RunTeamController.SearchAllApplicant (Team)'
2019-06-26 21:48:09.422 +08:00 [INF] Request finished in 142.3335ms 200 application/json; charset=utf-8
